/*! For license information please see main.37449fb2f0a63428a12b.js.LICENSE.txt */
(()=>{var e,t={381:function(e,t){var n,i,r;i=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,r={},o=0,s={parse:function(n,i){var a=(i=i||{}).dynamicTyping||!1;if(v(a)&&(i.dynamicTypingFunction=a,a={}),i.dynamicTyping=a,i.transform=!!v(i.transform)&&i.transform,i.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,i,a=(n=t.URL||t.webkitURL||null,i=e.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=g,l.id=o++,r[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=v(i.step),i.chunk=v(i.chunk),i.complete=v(i.complete),i.error=v(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var m=null;return s.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),m=i.download?new d(i):new c(i)):!0===n.readable&&v(n.read)&&v(n.on)?m=new h(i):(t.File&&n instanceof File||n instanceof Object)&&(m=new u(i)),m.stream(n)},unparse:function(e,t){var n=!1,i=!0,r=",",o="\r\n",a='"',l=a+a,d=!1,u=null,c=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(r=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(d=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(c=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(p(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return m(null,e,d);if("object"==typeof e[0])return m(u||Object.keys(e[0]),e,d)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),m(e.fields||[],e.data||[],d);throw new Error("Unable to serialize unrecognized input");function m(e,t,n){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&i){for(var d=0;d<e.length;d++)0<d&&(s+=r),s+=_(e[d],d);0<t.length&&(s+=o)}for(var u=0;u<t.length;u++){var c=a?e.length:t[u].length,h=!1,m=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var p=[],g=0;g<c;g++){var f=l?e[g]:g;p.push(t[u][f])}h=""===p.join("").trim()}if(!h){for(var y=0;y<c;y++){0<y&&!m&&(s+=r);var b=a&&l?e[y]:y;s+=_(t[u][b],y)}u<t.length-1&&(!n||0<c&&!m)&&(s+=o)}}return s}function _(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;c&&"string"==typeof e&&c.test(e)&&(e="'"+e,i=!0);var o=e.toString().replace(h,l);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,s.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=_,s.ParserHandle=m,s.NetworkStreamer=d,s.FileStreamer=u,s.StringStreamer=c,s.ReadableStreamStreamer=h,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},i=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:a.extend({},n)})})),r(),this;function r(){if(0!==i.length){var t,n,r,l,d=i[0];if(v(e.before)){var u=e.before(d.file,d.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=d.file,r=d.inputElem,l=u.reason,void(v(e.error)&&e.error({name:t},n,r,l));if("skip"===u.action)return void o();"object"==typeof u.config&&(d.instanceConfig=a.extend(d.instanceConfig,u.config))}else if("skip"===u)return void o()}var c=d.instanceConfig.complete;d.instanceConfig.complete=function(e){v(c)&&c(e,d.file,d.inputElem),o()},s.parse(d.file,d.instanceConfig)}else v(e.complete)&&e.complete()}function o(){i.splice(0,1),r()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var d=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:a,workerId:s.WORKER_ID,finished:d});else if(v(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!d||!v(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){v(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=C(this._chunkLoaded,this),t.onerror=C(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=C(this._chunkLoaded,this),t.onerror=C(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function c(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=C((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=C((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=C((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=C((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(e){var t,n,i,r=Math.pow(2,53),o=-r,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,c=0,h=!1,m=!1,g=[],f={data:[],errors:[],meta:{}};if(v(e.step)){var y=e.step;e.step=function(t){if(f=t,w())S();else{if(S(),0===f.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(f.data=f.data[0],y(f,d))}}}function C(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function S(){return f&&i&&(L("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(f.data=f.data.filter((function(e){return!C(e)}))),w()&&function(){if(f)if(Array.isArray(f.data[0])){for(var t=0;w()&&t<f.data.length;t++)f.data[t].forEach(n);f.data.splice(0,1)}else f.data.forEach(n);function n(t,n){v(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!f||!e.header&&!e.dynamicTyping&&!e.transform)return f;function t(t,n){var i,r=e.header?{}:[];for(i=0;i<t.length;i++){var o=i,s=t[i];e.header&&(o=i>=g.length?"__parsed_extra":g[i]),e.transform&&(s=e.transform(s,o)),s=E(o,s),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(s)):r[o]=s}return e.header&&(i>g.length?L("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+i,c+n):i<g.length&&L("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+i,c+n)),r}var n=1;return!f.data.length||Array.isArray(f.data[0])?(f.data=f.data.map(t),n=f.data.length):f.data=t(f.data,0),e.header&&f.meta&&(f.meta.fields=g),c+=n,f}()}function w(){return e.header&&0===g.length}function E(t,n){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(o<t&&t<r)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function L(e,t,n,i){var r={type:e,code:t,message:n};void 0!==i&&(r.row=i),f.errors.push(r)}this.parse=function(r,o,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),i=(e=e.replace(n,"")).split("\r"),r=e.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(r,l)),i=!1,e.delimiter)v(e.delimiter)&&(e.delimiter=e.delimiter(r),f.meta.delimiter=e.delimiter);else{var d=function(t,n,i,r,o){var a,l,d,u;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var c=0;c<o.length;c++){var h=o[c],m=0,p=0,g=0;d=void 0;for(var f=new _({comments:r,delimiter:h,newline:n,preview:10}).parse(t),y=0;y<f.data.length;y++)if(i&&C(f.data[y]))g++;else{var b=f.data[y].length;p+=b,void 0!==d?0<b&&(m+=Math.abs(b-d),d=b):d=b}0<f.data.length&&(p/=f.data.length-g),(void 0===l||m<=l)&&(void 0===u||u<p)&&1.99<p&&(l=m,a=h,u=p)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);d.successful?e.delimiter=d.bestDelimiter:(i=!0,e.delimiter=s.DefaultDelimiter),f.meta.delimiter=e.delimiter}var u=b(e);return e.preview&&e.header&&u.preview++,t=r,n=new _(u),f=n.parse(t,o,a),S(),h?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=v(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(h=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,n.abort(),f.meta.aborted=!0,v(e.complete)&&e.complete(f),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(e){var t,n=(e=e||{}).delimiter,i=e.newline,r=e.comments,o=e.step,a=e.preview,l=e.fastMode,d=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,c=!1;this.parse=function(s,h,m){if("string"!=typeof s)throw new Error("Input must be a string");var _=s.length,g=n.length,f=i.length,y=r.length,b=v(o),C=[],S=[],w=[],E=u=0;if(!s)return $();if(e.header&&!h){var L=s.split(i)[0].split(n),k=[],T={},O=!1;for(var I in L){var x=L[I];v(e.transformHeader)&&(x=e.transformHeader(x,I));var M=x,U=T[x]||0;for(0<U&&(O=!0,M=x+"_"+U),T[x]=U+1;k.includes(M);)M=M+"_"+U;k.push(M)}if(O){var D=s.split(i);D[0]=k.join(n),s=D.join(i)}}if(l||!1!==l&&-1===s.indexOf(t)){for(var q=s.split(i),R=0;R<q.length;R++){if(w=q[R],u+=w.length,R!==q.length-1)u+=i.length;else if(m)return $();if(!r||w.substring(0,y)!==r){if(b){if(C=[],H(w.split(n)),Z(),c)return $()}else H(w.split(n));if(a&&a<=R)return C=C.slice(0,a),$(!0)}}return $()}for(var N=s.indexOf(n,u),B=s.indexOf(i,u),F=new RegExp(p(d)+p(t),"g"),V=s.indexOf(t,u);;)if(s[u]!==t)if(r&&0===w.length&&s.substring(u,u+y)===r){if(-1===B)return $();u=B+f,B=s.indexOf(i,u),N=s.indexOf(n,u)}else if(-1!==N&&(N<B||-1===B))w.push(s.substring(u,N)),u=N+g,N=s.indexOf(n,u);else{if(-1===B)break;if(w.push(s.substring(u,B)),W(B+f),b&&(Z(),c))return $();if(a&&C.length>=a)return $(!0)}else for(V=u,u++;;){if(-1===(V=s.indexOf(t,V+1)))return m||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:C.length,index:u}),z();if(V===_-1)return z(s.substring(u,V).replace(F,t));if(t!==d||s[V+1]!==d){if(t===d||0===V||s[V-1]!==d){-1!==N&&N<V+1&&(N=s.indexOf(n,V+1)),-1!==B&&B<V+1&&(B=s.indexOf(i,V+1));var j=P(-1===B?N:Math.min(N,B));if(s.substr(V+1+j,g)===n){w.push(s.substring(u,V).replace(F,t)),s[u=V+1+j+g]!==t&&(V=s.indexOf(t,u)),N=s.indexOf(n,u),B=s.indexOf(i,u);break}var A=P(B);if(s.substring(V+1+A,V+1+A+f)===i){if(w.push(s.substring(u,V).replace(F,t)),W(V+1+A+f),N=s.indexOf(n,u),V=s.indexOf(t,u),b&&(Z(),c))return $();if(a&&C.length>=a)return $(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:C.length,index:u}),V++}}else V++}return z();function H(e){C.push(e),E=u}function P(e){var t=0;if(-1!==e){var n=s.substring(V+1,e);n&&""===n.trim()&&(t=n.length)}return t}function z(e){return m||(void 0===e&&(e=s.substring(u)),w.push(e),u=_,H(w),b&&Z()),$()}function W(e){u=e,H(w),w=[],B=s.indexOf(i,u)}function $(e){return{data:C,errors:S,meta:{delimiter:n,linebreak:i,aborted:c,truncated:!!e,cursor:E+(h||0)}}}function Z(){o($()),C=[],S=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=r[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){i=!0,f(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(v(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},o),!i);s++);delete t.results}else v(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!i&&f(t.workerId,t.results)}function f(e,t){var n=r[e];v(n.userComplete)&&n.userComplete(t),n.terminate(),delete r[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function C(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=s.parse(n.input,n.config);i&&t.postMessage({workerId:s.WORKER_ID,results:i,finished:!0})}}),(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(c.prototype)).constructor=c,(h.prototype=Object.create(l.prototype)).constructor=h,s},void 0===(r="function"==typeof n?n.apply(t,i):n)||(e.exports=r)},240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});const i=n.p+"4811c0d6fa606c9bc636.png",r=n.p+"6509e67c0ca32b030024.png",o=n.p+"58c46c2b0032b8505b9d.png",s=n.p+"d99a183d053ad78e856e.png",a=n.p+"e1b0e801068f2ebc9ff7.png";var l=n(211);class d{static Binary={name:"binary",ruName:"дихотомический",img:Object.getNameFromPath(o)};static Nominal={name:"nominal",ruName:"номинативный",img:Object.getNameFromPath(i)};static Continues={name:"continues",ruName:"количественный",img:Object.getNameFromPath(r)};static Rang={name:"rang",ruName:"ранговый",img:Object.getNameFromPath(s),imgU:Object.getNameFromPath(a)};static Empty={name:"empty",ruName:"пустой",img:null};static imgDir=Object.getDirFromPath(s);_unionLoaded=!1;_unionSaved=!1;_toRemoveUnion=!1;_tmpUnitedPair=void 0;_tmpUnitedObj={unitedOrder:[],unitedSet:[]};_unitedPair=void 0;_unitedObj={unitedOrder:[],unitedSet:[]};_typeName;_ruTypeName;_name;_id;_img;_set=[];_order=[];_binaryGroups=[];_onlyNumbers;constructor(e,t,n,i,r){if(e!==d.Binary&&e!==d.Nominal&&e!==d.Continues&&e!==d.Rang&&e!==d.Empty)throw new Error("Данный тип данных не поддерживается приложением");if(this._id=t,this._typeName=e.name,this._ruTypeName=e.ruName,this._name=i,e!==d.Empty){this._img=e.img,this._onlyNumbers=r,this._set=[...n].customSort("continues"===this._typeName),this._order=new Array(n.size);for(let e=0;e<n.size;e++)this._order[e]=e;this._binaryGroups=new Array(Math.ceil(n.size/32)).fill(0),"binary"===this._typeName&&(this._binaryGroups[0]=1<<31)}}removeUnion(){const e=uiControls.rangTable;let t="";for(let e=0;e<this._set.length;e++)t+=`\n            <label class="var-table__item" data-order="${this._order[e]}">\n            <input type="radio" name="data_value">\n            <span>${this._set[this._order[e]]}</span>\n            </label>`;e.innerHTML=t,this._tmpUnitedObj={},this._tmpUnitedPair=null,this._toRemoveUnion=!0,uiControls.varTypesUniteBtn.parentElement.classList.remove("hidden"),uiControls.varTypesUnitedContainer.classList.add("hidden")}setUnionWithAnotherVar(e){const t=e.getSet(),n=[...new Set([...this._set,...t])].customSort(this.isOnlyNumbers()&&e.isOnlyNumbers()),i=n.map(((e,t)=>t));this._tmpUnitedObj.unitedOrder=i,this._tmpUnitedObj.unitedSet=n,this._tmpUnitedPair=e,this._toRemoveUnion=!1;const r=uiControls.rangTable;let o="";for(let e=0;e<n.length;e++)o+=`\n            <label class="var-table__item" data-order="${i[e]}">\n            <input type="radio" name="data_value">\n            <span>${n[i[e]]}</span>\n            </label>`;r.innerHTML=o,uiControls.varTypesUniteBtn.parentElement.classList.add("hidden"),uiControls.varTypesUnitedContainer.classList.remove("hidden");const s=this._tmpUnitedPair.getName();uiControls.varTypesUnitedName.textContent=s,uiControls.varTypesUnitedName.parentElement.setAttribute("title",s)}setUnionWithObject(e,t){this._unitedPair=e,this._unitedObj=t}clearUnited(e){!e&&this._unitedPair&&(this._unitedPair.setType(d.Rang),this._unitedPair.clearUnited(!0)),this._tmpUnitedPair=null,this._tmpUnitedObj={},this._unitedPair=null,this._unitedObj={}}static refreshVarsOfUniteModal(e,t){uiControls.uniteTableBody.innerHTML=(()=>{let n="";return e.forEach((e=>{const i=e.getID();if(i===t||e.isUnited())return;let r=`\n                <label title="${e.getName()}" class="var-table__item var-table__item_${i}" data-var-id=${i}>\n                <input type="radio" name="unite_data_value" form="unite-form" value="${i}">\n                <img src=${e.getImg()} alt="${e.getTypeName()}" class="var-table__img">\n                <span>${e.getName()}</span>\n                </label>\n                <div class='var-table__anchor var-table__anchor_${i}'></div>`;n+=r})),n})()}static addSheetOptions(e){const t=[];for(let n of e)if(!uiControls.sheetSelectUnite.querySelector(`.select-option-${n.id}`)){const e=document.createElement("option");e.classList.add(`select-option-${n.id}`),e.value=n.id,e.textContent=n.name,t.push(e)}uiControls.sheetSelectUnite.append(...t)}setSettingsWithObject(e){const t=Object.keys(e);for(let n of t)this[n]=e[n];if("empty"===this._typeName)return;const n=document.getElementById(this._id);if(n.nextElementSibling.textContent=this._name,n.querySelector("img").setAttribute("src",d.imgDir+this._img),this._unitedPair&&!this._unionLoaded){const e=this._unitedPair.split("_"),t=l.Z.getVarBySheetIdAndVarId(e[1],e[2]);t.setPair(this),t.setUnitedObject(this._unitedObj),t.setUnionLoaded(),this._unitedPair=t}this._unionLoaded=!1}setSettings(e,t,n){const i=document.getElementById(this._id);this._name=e.get("var-name"),i.nextElementSibling.textContent=this._name;const r=e.get("var-type"),o=Object.entries(d).find((e=>e[1].name===r))[1];if(this.setType(o),"rang"===this._typeName){if(this._tmpUnitedPair&&this._tmpUnitedPair!==this._unitedPair){this._unitedPair&&(this._unitedPair.clearUnited(!0),this._unitedPair.setType(d.Rang)),this._unitedObj.unitedOrder=t,this._unitedObj.unitedSet=this._tmpUnitedObj.unitedSet,this._unitedPair=this._tmpUnitedPair,this._unitedPair.setUnionWithObject(this,this._unitedObj),this.setImg(d.Rang.imgU),this._unitedPair.setType(d.Rang),this._unitedPair.setImg(d.Rang.imgU);document.getElementById(this._unitedPair.getID()).querySelector("img").setAttribute("src",d.imgDir+d.Rang.imgU)}else this._toRemoveUnion?(this._order=t,this.clearUnited()):this._unitedPair?(this._unitedObj.unitedOrder=t,this.setImg(d.Rang.imgU)):this._order=t;return}if(this.clearUnited(),!n.group1[0])return void this._binaryGroups.fill(0);let s,a=0,l=n.group1[a],u=n.group1[a],c=l;for(let e=0;e<this._binaryGroups.length;e++){for(s=0;u<32*(e+1);)s<<=c,s|=1,l=n.group1[a],u=n.group1[++a],c=u-l;s<<=31-l%32,this._binaryGroups[this._binaryGroups.length-e-1]=s}}createHTML(){const e=uiControls.modalVarType.querySelector("#modal-var-types__name"),t=uiControls.modalVarType.querySelector(".modal-var-types__continues-container"),n=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__item-input")],i=uiControls.rangTable,r=uiControls.binTables;e.value=this._name,e.setAttribute("value",this._name),this._onlyNumbers?(t.classList.remove("radio-line_disabled"),t.firstElementChild.disabled=!1):(t.classList.add("radio-line_disabled"),t.firstElementChild.disabled=!0);let o,s,a="";const l=this._unitedObj;this._toRemoveUnion=!1,this._tmpUnitedPair=null,this._tmpUnitedObj={},this.isUnited()?(o=l.unitedOrder,s=l.unitedSet,uiControls.varTypesUniteBtn.parentElement.classList.add("hidden"),uiControls.varTypesUnitedContainer.classList.remove("hidden"),uiControls.varTypesUnitedName.textContent=this._unitedPair.getName()):(o=this._order,s=this._set,uiControls.varTypesUnitedContainer.classList.add("hidden"),uiControls.varTypesUniteBtn.parentElement.classList.remove("hidden"));for(let e=0;e<s.length;e++)a+=`\n            <label class="var-table__item" data-order="${o[e]}">\n                <input type="radio" name="data_value">\n                <span>${s[o[e]]}</span>\n            </label>`;i.innerHTML=a;let d="",u="",c=0,h=this._set.length-1;const m=(e,t)=>`<label class="var-table__item" data-anchor=${e}>\n                        <input type="radio" name="data_value">\n                        <span>${t}</span>\n                    </label>`,p=e=>`<div class='var-table__anchor var-table__anchor_${e}'></div>`;for(let e=this._binaryGroups.length-1;e>=0;e--){let t=1<<31;for(let n=0;n<32&&(0==(this._binaryGroups[e]&t)?d+=m(c,this._set[c]):u+=m(c,this._set[c]),d+=p(c),u+=p(c),c++,t>>>=1,!(c>h));n++);}function _(e){r[1].isSameNode(e.parentElement)?uiControls.varTypesSwitchBtn.classList.replace("switch-button_right","switch-button_left"):uiControls.varTypesSwitchBtn.classList.replace("switch-button_left","switch-button_right")}r[0].innerHTML=d,r[1].innerHTML=u,r.forEach((e=>[...e.querySelectorAll(".var-table__item")].forEach((e=>e.querySelector("input").addEventListener("change",_.bind(this,e)))))),n.forEach((e=>{e.value===this._typeName&&e.click()}))}isValInZeroGroup(e){const t=this._set.indexOf(e);if(-1===t)return-1;const n=this._binaryGroups.length-Math.floor(t/32)-1;if(n<0)return-1;const i=t%32;return!0&this._binaryGroups[n]>>>31-i?1:0}getOrderOfVal(e){const t=this._set.indexOf(e);if(-1===t)return-1;const n=this._order.indexOf(t);return void 0!==n?n+1:-1}getOrderOfValUnited(e){const t=this._unitedObj.unitedSet.indexOf(e);if(-1===t)return-1;const n=this._unitedObj.unitedOrder.indexOf(t);return void 0!==n?n+1:-1}isOnlyNumbers(){return this._onlyNumbers}isUnited(){return!!this._unitedPair}isUnitedWith(e){return this._unitedPair===e}getData(){const e=this._unitedPair;this._unitedPair=null,this._tmpUnitedPair=null;const t=Object.deepCopy(this);return this._unitedPair=e,delete t._toRemoveUnion,delete t._tmpUnitedPair,delete t._tmpUnitedObj,delete t._unionLoaded,delete t._unionSaved,this.isUnited()?this._unionSaved?(delete t._unitedPair,delete t._unitedObj,this._unionSaved=!1):(this._unitedPair.setUnionSaved(),t._unitedPair=this._unitedPair.getID()):(delete t._unitedPair,delete t._unitedObj),t}setPair(e){this._unitedPair=e}setUnitedObject(e){this._unitedObj=e}setUnionLoaded(){this._unionLoaded=!0}setUnionSaved(){this._unionSaved=!0}getID(){return this._id}getName(){return this._name}getImg(){return this._img}getSet(){return this._set}getOrder(){return this._order}setType(e){this._typeName=e.name,this._ruTypeName=e.ruName,this.setImg(e.img)}setImg(e){this._img=e,document.getElementById(this._id).querySelector("img").setAttribute("src",d.imgDir+this._img)}getTypeName(){return this._typeName}getRuTypeName(){return this._ruTypeName}}},211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(988),r=n(381);class o{static _globalSettings={skip:{value:"0"},encoding:{select:{"windows-1251":"Windows-1251","utf-8":"UTF-8"},selected:"windows-1251"},colDelimiter:{select:{",":"Запятая (,)",".":"Точка (.)",";":"Точка c запятой (;)","\t":"Знак табуляции (\\t)"},selected:","},decimalDelimiter:{select:{",":"Запятая (,)",".":"Точка (.)"},selected:"."}};_skip;_encoding;_colDelimiter;_decimalDelimiter;constructor(){this.init(o._globalSettings)}init(e){this._skip=Object.deepCopy(e.skip),this._encoding=Object.deepCopy(e.encoding),this._colDelimiter=Object.deepCopy(e.colDelimiter),this._decimalDelimiter=Object.deepCopy(e.decimalDelimiter)}createHTML(){function e(e,t){t.innerHTML="";for(let n of Object.entries(e.select))t.innerHTML+=`<option value="${n[0]}" ${e.selected===n[0]?"selected":""}>${n[1]}</option>`}uiControls.settingsSkipInput.setAttribute("value",`${this._skip.value}`),uiControls.settingsSkipInput.value=this._skip.value,e(this._encoding,uiControls.settingsEncodingInput),e(this._colDelimiter,uiControls.settingsColDelimiterInput),e(this._decimalDelimiter,uiControls.settingsDecimalDelimiterInput)}getSettings(){return{skip:this._skip,encoding:this._encoding,colDelimiter:this._colDelimiter,decimalDelimiter:this._decimalDelimiter}}setSettings(e){this._skip.value=e.get("skip"),this._encoding.selected=e.get("encoding"),this._colDelimiter.selected=e.get("col-delimiter"),this._decimalDelimiter.selected=e.get("decimal-delimiter")}setSettingsWithObject(e){this._skip.value=e._skip.value,this._encoding.selected=e._encoding.selected,this._colDelimiter.selected=e._colDelimiter.selected,this._decimalDelimiter.selected=e._decimalDelimiter.selected}static setGlobalSettings(e){o._globalSettings.skip.value=e.get("skip"),o._globalSettings.encoding.selected=e.get("encoding"),o._globalSettings.colDelimiter.selected=e.get("col-delimiter"),o._globalSettings.decimalDelimiter.selected=e.get("decimal-delimiter")}static setGlobalSettingsWithObject(e){o._globalSettings=e}static getGlobalSettings(){return o._globalSettings}}var s=n(240);class a{_name;_id;_data;_dataVars=[];_notNullDataVars=[];_settings;_tableElement;_footerElement;_file;_openedVar;constructor(e,t){this._id=t,this._name=e,this._settings=new o,this._createTableElement(),this._createFooterElement()}async importFile(e){this._file=e,this._data=await this._parseDataInFile(!0),this._initVars(),this._createHTML()}async setSettings(e){this._dataVars.forEach((e=>e.clearUnited())),this._settings.setSettings(e),this._data=await this._parseDataInFile(!1),this._initVars(),this._createHTML()}async setSettingsWithObject(e){this._settings.setSettingsWithObject(e),this._data=await this._parseDataInFile(!1),this._initVars(),this._createHTML()}createVarSettings(e){const t=this._dataVars[Number(e.split("_")[2])];t.createHTML(),this._openedVar=t}setVarSettings(e,t,n){this._openedVar.setSettings(e,t,n)}setVarSettingsWithArray(e){this._dataVars.forEach(((t,n)=>{t.setSettingsWithObject(e[n])}))}setName(e){this._name=e,this._footerElement.querySelector(".footer__item-text").textContent=this._name}setId(e){this._id=e,this._footerElement.setAttribute("id",e)}show(){this._settings.createHTML(),this._tableElement.classList.add("data__table_shown"),this._footerElement.classList.add("footer__item_selected")}hide(){this._tableElement.classList.remove("data__table_shown"),this._footerElement.classList.remove("footer__item_selected")}_createTableElement(){this._tableElement=uiControls.dataContainer.insertBefore(document.createElement("table"),uiControls.dataContainer.firstChild),this._tableElement.classList.add("data__table"),this._tableElement.setAttribute("id",this._id),this._tableElement.innerHTML='\n        <thead>\n            <tr>\n                <th title="Настройки импортированных данных" id="dataSettingsBtn" class="dataSettingsBtn_new">\n                    <?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"\n                        width="19px" height="19px">\n                        <path\n                            d="M47.16,21.221l-5.91-0.966c-0.346-1.186-0.819-2.326-1.411-3.405l3.45-4.917c0.279-0.397,0.231-0.938-0.112-1.282 l-3.889-3.887c-0.347-0.346-0.893-0.391-1.291-0.104l-4.843,3.481c-1.089-0.602-2.239-1.08-3.432-1.427l-1.031-5.886 C28.607,2.35,28.192,2,27.706,2h-5.5c-0.49,0-0.908,0.355-0.987,0.839l-0.956,5.854c-1.2,0.345-2.352,0.818-3.437,1.412l-4.83-3.45 c-0.399-0.285-0.942-0.239-1.289,0.106L6.82,10.648c-0.343,0.343-0.391,0.883-0.112,1.28l3.399,4.863 c-0.605,1.095-1.087,2.254-1.438,3.46l-5.831,0.971c-0.482,0.08-0.836,0.498-0.836,0.986v5.5c0,0.485,0.348,0.9,0.825,0.985 l5.831,1.034c0.349,1.203,0.831,2.362,1.438,3.46l-3.441,4.813c-0.284,0.397-0.239,0.942,0.106,1.289l3.888,3.891 c0.343,0.343,0.884,0.391,1.281,0.112l4.87-3.411c1.093,0.601,2.248,1.078,3.445,1.424l0.976,5.861C21.3,47.647,21.717,48,22.206,48 h5.5c0.485,0,0.9-0.348,0.984-0.825l1.045-5.89c1.199-0.353,2.348-0.833,3.43-1.435l4.905,3.441 c0.398,0.281,0.938,0.232,1.282-0.111l3.888-3.891c0.346-0.347,0.391-0.894,0.104-1.292l-3.498-4.857 c0.593-1.08,1.064-2.222,1.407-3.408l5.918-1.039c0.479-0.084,0.827-0.5,0.827-0.985v-5.5C47.999,21.718,47.644,21.3,47.16,21.221z M25,32c-3.866,0-7-3.134-7-7c0-3.866,3.134-7,7-7s7,3.134,7,7C32,28.866,28.866,32,25,32z" />\n                    </svg>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>'}_createFooterElement(){this._footerElement=uiControls.footerList.appendChild(document.createElement("li")),this._footerElement.classList.add("footer__item","footer__item_selected","footer__item_new"),this._footerElement.setAttribute("id",this._id),this._footerElement.innerHTML=`\n        <div class="footer__item-content">\n            <span class="footer__item-text">\n                ${this._name}\n            </span>\n        </div>`}_createHTML(){const e=()=>{const e=(e,t)=>`\n                <th>\n                    <div class="data__column-header">\n                        ${this._dataVars[t].getTypeName()===s.Z.Empty.name?"":`\n                        <div title="Сменить тип данных колонки" id=${this._dataVars[t].getID()} class="data__var-icon data__var-icon_new">\n                            <img src="${this._dataVars[t].getImg()}" alt="${this._dataVars[t].getName()}">\n                        </div>`}\n                        <span class="data__var-name">${e}</span>\n                    </div>\n                </th>`;return this._data[0].map(((t,n)=>e(t,n))).reduce(((e,t)=>e+t))},t=()=>{let e=1;return this._data.slice(1).map((t=>{return n=t.map((e=>`<td class='${"number"==typeof e?"number":""}'>${e}</td>`)),`\n                <tr>\n                    <td>${e++}</td>\n                    ${n.reduce(((e,t)=>e+t))}\n                </tr>`;var n})).join("")},n=(n,i)=>{const r=this._tableElement.querySelector("tr"),o=r.querySelector("#dataSettingsBtn"),s=this._tableElement.querySelector("tbody");r.innerHTML=n?e():"",r.insertBefore(o,r.firstElementChild),s.innerHTML=i?t():""};switch(this._data.length){case 0:n(!1,!1);break;case 1:n(!0,!1);break;default:n(!0,!0)}}_parseDataInFile(){return new Promise(((e,t)=>{const n=this._settings.getSettings(),i=n.decimalDelimiter.selected;let o=i;RegExp.specialSymbols.includes(i)&&(o="\\"+i);const s=new RegExp(`^-?(?:\\d+(?:${o}\\d+)?|\\d+(?:${o}\\d+)?(?:e|E)(?:\\+|-)?\\d+)$`);r.parse(this._file,{encoding:n.encoding.selected,delimiter:n.colDelimiter.selected,transform:(e,t)=>{let n=e.trim();return s.test(n)?Number(n.replace(i,".")):n},skipEmptyLines:!0,complete:t=>{const i=n.skip.value;0!=i&&(t.data=t.data.slice(i)),this._data=t.data,e(t.data)}})}))}_initVars(){if(0===this._data.length)return;let e=0;const t=()=>"var_"+this._id+"_"+e++,n=this._data[0].map(((e,n)=>function(e){const n=e.slice(1),i=new Set(n);i.delete(""),i.delete(void 0);const r=n.find((e=>"number"!=typeof e&&""!==e)),o=n=>new s.Z(n,t(),i,e[0],null==r);if(0===i.size)return o(s.Z.Empty);if(2===i.size)return o(s.Z.Binary);if(r)return o(s.Z.Nominal);return o(s.Z.Continues)}(this._data.map((e=>e[n])))));this._dataVars=n,this._notNullDataVars=[],n.forEach((e=>{e.getTypeName()!==s.Z.Empty.name&&this._notNullDataVars.push(e)}))}getName(){return this._name}getID(){return this._id}getOpenedVar(){return this._openedVar}getVars(){return this._notNullDataVars}getVarById(e){return this._dataVars[e]}getDataByVarId(e){const t=function(e){let t=0;for(let n=e.length-1;n>=0&&""===e[n];n--)t--;if(t)return e.slice(0,t);return e}(this._data.map((t=>t[e])).slice(1));return t}async getData(){const e=this._settings.getSettings();return{_id:this._id,_name:this._name,_dataVars:this._dataVars.map((e=>e.getData())),_settings:this._settings,_file:await File.readUploadedFileAsText(this._file,e.encoding.selected)}}}const l={_sheets:[],_currentSheet:void 0,async readSingleFile(e){try{if(document.body.classList.add("loading"),!e)throw new Error("Ошибка при загрузке файла.");if("csv"!==e.name.split(".").pop())throw new Error("Неверный тип файла");await l.addSheet(e),document.body.classList.remove("loading")}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка загрузки файла"),console.error(e),document.body.classList.remove("loading")}},async submitSettings(e,t){e.preventDefault();const n=t.get("apply-to"),r=l._currentSheet;if("this"===n)await r.setSettings(t),uiControls.initNewSheetControls(),i.Z.updateVarsOfSheet(r.getID(),!1);else if("all"===n){o.setGlobalSettings(t);for(let e of this._sheets)await e.setSettings(t),uiControls.initNewSheetControls(),i.Z.updateVarsOfSheet(e.getID(),!1)}},createVarSettings(e){l._currentSheet.createVarSettings(e)},setVarSettings(e,t,n){l._currentSheet.setVarSettings(e,t,n),i.Z.updateVarsOfSheet(l._currentSheet.getID(),!1)},async addSheet(e){const t=l._sheets.length;l._currentSheet?.hide();const n=e.name.split(".").slice(0,-1).join(""),r=new a(n,t);await r.importFile(e),l._sheets.push(r),l._currentSheet=r,l.optionListAdd(),uiControls.initNewSheetControls(),1===l._sheets.length&&(i.Z.updateVarsOfSheet(0,!0),uiControls.footerSetMaxWidth()),r.show()},selectSheet(e){const t=l._sheets[e];l._currentSheet!=t&&(l._currentSheet?.hide(),l._currentSheet=t,t.show())},refreshVarsOfUniteModal(e){const t=Number(e.get("sheet-select")),n=l._currentSheet.getOpenedVar().getID(),i=l.getVarsBySheetId(t);s.Z.refreshVarsOfUniteModal(i,n)},setUnitedVars(e){const t=l._currentSheet.getOpenedVar(),n=e.get("unite_data_value").split("_"),i=this.getVarBySheetIdAndVarId(n[1],n[2]);t.setUnionWithAnotherVar(i)},removeUnion(){l._currentSheet.getOpenedVar().removeUnion()},optionListAdd(){const e={name:l._currentSheet.getName(),id:l._currentSheet.getID()};i.Z.optionListAdd(e),s.Z.addSheetOptions([e])},getListOfSheets(){return this._sheets.map(((e,t)=>({name:e.getName(),id:e.getID()})))},getSheetById(e){return this._sheets[e]},getVarsBySheetId:e=>l._sheets[e]?l._sheets[e].getVars():null,getVarBySheetIdAndVarId:(e,t)=>l._sheets[e]?l._sheets[e].getVarById(t):null,getDataBySheetAndVarId:(e,t)=>l._sheets[e]?l._sheets[e].getDataByVarId(t):null,async getData(){const e={sheets:[],globalSettings:o.getGlobalSettings()};for(let t of this._sheets){const n=await t.getData();e.sheets.push(n)}return e},async loadData(e){if(o.setGlobalSettingsWithObject(e.globalSettings),0!==e.sheets.length){for(let t=0;t<e.sheets.length;t++){const n=e.sheets[t],i=new Blob([n._file],{type:"text/csv"}),r=new File([i],n._name+".csv",{type:"text/csv"});await l.addSheet(r),this._sheets[t].setId(n._id),this._sheets[t].setName(n._name),await this._sheets[t].setSettingsWithObject(n._settings)}for(let t=0;t<e.sheets.length;t++)this._sheets[t].setVarSettingsWithArray(e.sheets[t]._dataVars),i.Z.updateVarsOfSheet(this._sheets[t].getID(),!1);uiControls.initNewSheetControls(),l._currentSheet?.hide(),l._currentSheet=this._sheets[0],l._currentSheet.show()}},switchUnitedVar(e,t){const n=e.split("_");this.getVarBySheetIdAndVarId(n[1],n[2]).switchUnitedVar(t)}},d=l},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(820),r=n(211);const o={_MODULE_FOLDERS:["paired-sample-test","independent-sample-test","correlation-test"],_modules:[],_timerId:void 0,_hypotheses:[],_globalSettings:{name:void 0,FWER:void 0,mainHypId:void 0,power:void 0,hypCounter:0,unhiddenCounter:0,preciseSampleSize:void 0,sampleSize:void 0,update:null,getAlpha(e=!0){return this.unhiddenCounter?e?Math.roundGOST(this.FWER/this.unhiddenCounter):this.FWER/this.unhiddenCounter:"-"},getMainHypName(){const e=o._hypotheses[this.mainHypId];return e&&e.hyp?e.hyp.getName():"-"},createNewHypOption(e,t){const n=document.createElement("option");n.setAttribute("value",e),n.classList.add("main-hypothesis__option_"+e),n.textContent=t,uiControls.mainHypSelect.appendChild(n)},updateHypOption(e,t){const n=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);n&&(n.textContent=t)},deleteHypOption(e){const t=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);t&&uiControls.mainHypSelect.removeChild(t);for(let t=e+1;t<this.hypCounter;t++){const e=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+t);e&&(e.setAttribute("value",t-1),e.classList.replace("main-hypothesis__option_"+t,"main-hypothesis__option_"+(t-1)))}},getData(){return Object.assign(this)},setData(e){const t=Object.keys(e);for(let n of t)this[n]=e[n];uiControls.parametersGlobItem.querySelector("#name-input-glob").value=this.name;uiControls.parametersGlobItem.querySelector("#FWER-input").value=this.FWER;uiControls.parametersGlobItem.querySelector("#power-input").value=this.power;const n=uiControls.parametersGlobItem.querySelector("#main-hypothesis").querySelector(".main-hypothesis__option_"+this.mainHypId);n&&(n.selected=!0)}},async createModuleButtons(){const e=o._modules;for(const t of o._MODULE_FOLDERS){const{default:r}=await n(860)(`./${t}/Module.js`);if(!i.Z.isPrototypeOf(r))throw new Error(`Class ${r.name} doesn't extends ${i.Z.name} class`);e.push(r)}const t=uiControls.moduleListElement;for(let n=0;n<e.length;n++){e[n].setModuleTypeId(n);const i=e[n].getName(),r=e[n].getImage();t.innerHTML+=`\n            <li title="Добавить новую гипотезу" class="modules__item button" data-module-id='${n}'>\n                <div class="modules__item-content">\n                    <div class="modules__icon">\n                        <img src="${r}" alt="${i}">\n                    </div>\n                    <span class="modules__description">${i}</span>\n                </div>\n            </li>`}uiControls.addModuleBtnsListeners(),uiControls.addModuleFormListeners(uiControls.parametersGlobItem,null,!0),o.setSettings("glob",uiControls.parametersGlobItem.querySelector("form"))},getData(){const e={hypotheses:[],globalSettings:this._globalSettings.getData()};for(let t of this._hypotheses){const n={hyp:t.hyp.getAllData(!0),update:t.update,hidden:t.hidden};e.hypotheses.push(n)}return e},loadData(e){for(let t=0;t<e.hypotheses.length;t++){const n=e.hypotheses[t];this.addHypothesis(n.hyp.moduleTypeId);const i=this._hypotheses[t];i.hyp.updateResultsHtml(!1),this.nameChange(t,n.hyp.hypName),i.hyp.setLoadingData(n.hyp.inputType,n.hyp.testType,n.hyp.altHypTest,n.hyp.resultsTableData,n.hyp.varIds),n.hidden&&i.hyp.getElement().querySelector(".extra_hide-button").click()}this._globalSettings.setData(e.globalSettings),this.setSettings("glob")},getGlobalName(){return this._globalSettings.name},getHypElementById(e){if(e||0===e)return o._hypotheses[e].hyp.getElement()},getResultElementById(e){if(e||0===e)return o._hypotheses[e].hyp.getResultElement()},addHypothesis(e,t=null){const n=o._globalSettings,i=new o._modules[e](n.hypCounter,t);o._hypotheses.push({hyp:i,update:null}),t||i.createHTML();const s=i.getElement();return n.createNewHypOption(n.hypCounter,i.getName()),i.setSheetOptions(r.Z.getListOfSheets()),o.refreshVarsOfHyp(n.hypCounter),uiControls.addModuleFormListeners(s,i.addListeners.bind(i,s)),0===n.unhiddenCounter&&(n.mainHypId=n.hypCounter,uiControls.mainHypSelect.lastElementChild.selected=!0),n.hypCounter++,n.unhiddenCounter++,o.setSettings("glob"),n.hypCounter-1},optionListAdd(e,t=!1){for(let n=0;n<o._globalSettings.hypCounter;n++)o._hypotheses[n].hyp.addSheetOptions([e]),t&&o.refreshVarsOfHyp(n)},refreshVarsOfHyp(e,t=null){let n;n=t?[t]:o._hypotheses[e].hyp.getFormSheets(),n.forEach((t=>{const n=Number(new FormData(t).get("sheet-select"));o._hypotheses[e].hyp.displayVarsOfSheet(n,t.dataset.type)}))},updateVarsOfSheet(e,t){o._hypotheses.forEach((n=>{t?n.hyp.clearSelectedVars():n.hyp.updateSelectedVarsVisual(e);n.hyp.getFormSheets().forEach((t=>{const i=Number(new FormData(t).get("sheet-select"));i===e&&n.hyp.displayVarsOfSheet(i,t.dataset.type)}))})),this.setSettings("glob")},setSettings(e){uiControls.resultsLoadingShow(),"glob"===e?o._globalSettings.update=!0:o._hypotheses[e].update=!0,o._timerId&&clearTimeout(o._timerId),o._timerId=setTimeout((function(){o.applySettings(),uiControls.resultsLoadingHide(),o._timerId=0}),1e3)},applySettings(){const e=o._hypotheses,t=o._globalSettings;let n=!1,i=e[t.mainHypId];t.update?(o.setGlobalSettings(),t.unhiddenCounter?o.setMainSettings():t.sampleSize="-",i=e[t.mainHypId],t.update=!1,n=!0):i?.update&&(o.setMainSettings(),n=!0),n&&(o.updateResultsGlob(),i?.hyp.updateResultsHtml(!0));const r=t.getAlpha(!1);for(let s=0;s<o._globalSettings.hypCounter;s++){const{hyp:o,update:a,hidden:l}=e[s];!n&&!a||l||o===i.hyp||(o.setSettings(),o.setStatPower(r,t.sampleSize),e[s].update=!1,o.updateResultsHtml(!1))}},setGlobalSettings(){const e=o._globalSettings,t=new FormData(uiControls.globalSettingsForm);e.name=t.get("name"),e.FWER=Number(t.get("FWER")),(e.FWER<=0||e.FWER>=100)&&uiControls.showError(uiControls.FWERInput,"Значение FWER должно быть больше, чем 0% и меньше, чем 100%");const n=t.get("mainHypothesis");e.mainHypId="null"===n?"-":Number(n),e.power=Number(t.get("power")),(e.power<=0||e.power>=100)&&uiControls.showError(uiControls.powerInput,"Значение мощности должно быть больше, чем 0% и меньше, чем 100%")},setMainSettings(){const e=o._globalSettings,t=o._hypotheses[e.mainHypId];t.hyp.setSettings();const n=t.hyp.getN(e.getAlpha(!1),e.power);e.preciseSampleSize=n,e.sampleSize=Math.ceil(n),t.update=!1},updateResultsGlob(){const e=o._globalSettings;uiControls.resName.textContent=e.name,uiControls.resFwer.textContent=Number.resultForm(e.FWER),uiControls.resNumber.textContent=e.unhiddenCounter,uiControls.resImportance.textContent=e.getAlpha(),uiControls.resMainHyp.textContent=e.getMainHypName(),uiControls.resPower.textContent=Number.resultForm(e.power),uiControls.resSampleSizePrecise.textContent=Number.resultForm(e.preciseSampleSize),uiControls.resSampleSize.textContent=Number.resultForm(e.sampleSize,!0)},hideUnhideHyp(e){const t=o._hypotheses,n=t[e],i=o._globalSettings,r=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);n.hidden?function(){r.disabled=!1,0===i.unhiddenCounter&&(i.mainHypId=e,r.selected=!0);i.unhiddenCounter++,n.hidden=!1,n.hyp.changeVisibilityResultsHtml(!1)}():function(){r.disabled=!0,i.unhiddenCounter--,n.hidden=!0,e===i.mainHypId&&(r.selected=!1,0===i.unhiddenCounter?(i.mainHypId=null,uiControls.mainHypSelectNullOption.selected=!0):(i.mainHypId=t.findIndex((e=>!e.hidden)),uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+i.mainHypId).selected=!0));n.hyp.changeVisibilityResultsHtml(!0)}(),o.setSettings("glob")},nameChange(e,t){const n=o._hypotheses[e];n&&(n.hyp.setName(t),o._globalSettings.updateHypOption(e,t))},duplicateHyp(e){const t=o._hypotheses[e];t&&o.addHypothesis(t.hyp.constructor.getModuleTypeId(),t.hyp)},deleteHyp(e){const t=o._hypotheses[e];if(!t)return;const n=o._globalSettings,i=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);o._globalSettings.deleteHypOption(e),n.hypCounter--,t.hidden||n.unhiddenCounter--,t.hyp.deleteSelf(),o._hypotheses[e]=null;for(let t=e;t<n.hypCounter;t++)o._hypotheses[t]=o._hypotheses[t+1],o._hypotheses[t].hyp.setId(t);o._hypotheses=o._hypotheses.slice(0,-1),e===n.mainHypId?(i.selected=!1,0===n.unhiddenCounter?(n.mainHypId=null,uiControls.mainHypSelectNullOption.selected=!0):(n.mainHypId=o._hypotheses.findIndex((e=>!e.hidden)),uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+n.mainHypId).selected=!0)):n.mainHypId>e&&n.mainHypId--,o.setSettings("glob")},exportResults(){const e=function(e){return`\n            <html>\n              <head>\n                <style>\n                    body,\n                    h1,\n                    h2,\n                    h3,\n                    h4,\n                    p,\n                    ul[class],\n                    ol[class],\n                    li,\n                    figure,\n                    figcaption,\n                    fieldset,\n                    blockquote,\n                    dl,\n                    dd {\n                        margin: 0;\n                    }\n                    body {\n                        font-family: "Open Sans", sans-serif;\n                        color: #000000;\n                        font-weight: 400;\n                        font-size: 14px;\n                        line-height: 19px;\n                        min-height: 100vh;\n                        scroll-behavior: smooth;\n                        text-rendering: optimizeSpeed;\n                    }\n\n                    p, th , td {\n                        color: #000000;\n                        font-weight: 400;\n                        font-size: 14px;\n                        line-height: 19px;\n                    }\n                    \n                    h1 {\n                        font-weight: 700;\n                        font-size: 24px;\n                        line-height: 33px;\n                    }\n                    \n                    h2 {\n                        font-weight: 700;\n                        font-size: 20px;\n                        line-height: 27px;\n                    }\n                    \n                    b {\n                        font-weight: 600;\n                        font-size: 14px;\n                        line-height: 19px;\n                    }\n                    \n                    small {\n                        font-weight: 400;\n                        font-size: 12px;\n                        line-height: 16px;\n                    }\n\n                    .results__container {\n                        overflow: auto;\n                        height: 100%;\n                        padding: 10px 24px 24px 24px;\n                        max-width: 100%;\n\n                        font-weight: 400;\n                        font-size: 14px;\n                    }\n\n                    .results__container::after {\n                        display: block;\n                        content: '';\n                        width: 0px;\n                        height: 50%;\n                    }\n\n                    .results__header {\n                        overflow-wrap: break-word;\n                        max-width: 100%;\n                    }\n\n                    .results__block {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 24px;\n                        min-width: 1000px;\n                        max-width: 1000px;\n                        margin-bottom: 56px;\n\n                    }\n                \n                    .results__block-inner {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 8px;\n                        max-width: 1000px;\n                    }\n                \n                    .results__table {\n                        border-bottom: 2px solid #000000;\n                        border-collapse: collapse;\n                        width: max-content;\n                        max-width: 100%;\n                    }\n\n                    .results__table th {\n                        white-space: nowrap;\n                        border-top: 1px solid #000000;\n                        border-bottom: 1px solid #000000;\n                    }\n            \n                    .results__table th,\n                    .results__table td {\n                        padding: 0 16px 0 16px;\n                        text-align: center;\n                    }\n            \n                    .results__table td {\n                        white-space: normal;\n                        word-wrap: break-word;\n                        width: max-content;\n                        max-width: 200px;\n                    }\n            \n                    .results__table caption {\n                        caption-side: bottom;\n                        text-align: left;\n                    }\n                </style>\n              </head>\n              <body>\n                ${e.outerHTML}\n              </body>\n            </html>\n          `}(uiControls.resultsContainer),t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t),i=document.createElement("a");i.download=`${o._globalSettings.name}.html`,i.href=n,i.click(),URL.revokeObjectURL(n)}},s=o},820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});class i{static comElements={parametersContainer:document.querySelector(".parameters__container"),resultsContainer:document.querySelector(".results__container")};constructor(){if(i===new.target)throw new Error("Can't create an instance of an abstract class")}static setModuleTypeId(e){throw new Error("This method must be implemented")}static getModuleTypeId(){throw new Error("This method must be implemented")}static getName(){throw new Error("This method must be implemented")}static getImage(){throw new Error("This method must be implemented")}deleteSelf(){throw new Error("This method must be implemented")}getAllData(){throw new Error("This method must be implemented")}setName(e){throw new Error("This method must be implemented")}setId(e){throw new Error("This method must be implemented")}setLoadingData(){throw new Error("This method must be implemented")}getName(){throw new Error("This method must be implemented")}getElement(){throw new Error("This method must be implemented")}getResultElement(){throw new Error("This method must be implemented")}getFormSheets(){throw new Error("This method must be implemented")}getSheetSelects(){throw new Error("This method must be implemented")}setSheetOptions(e){throw new Error("This method must be implemented")}addSheetOptions(e){throw new Error("This method must be implemented")}addListeners(e){throw new Error("This method must be implemented")}displayVarsOfSheet(e,t){throw new Error("This method must be implemented")}updateSelectedVarsVisual(e){throw new Error("This method must be implemented")}clearSelectedVars(){throw new Error("This method must be implemented")}createHTML(){throw new Error("This method must be implemented")}setSettings(){throw new Error("This method must be implemented")}getN(e,t){throw new Error("This method must be implemented")}setStatPower(e,t){throw new Error("This method must be implemented")}updateResultsHtml(e){throw new Error("This method must be implemented")}changeVisibilityResultsHtml(e){throw new Error("This method must be implemented")}}},860:(e,t,n)=>{var i={"./correlation-test/Module.js":[693,233],"./independent-sample-test/Module.js":[510,476],"./paired-sample-test/Module.js":[969,330]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(i),r.id=860,e.exports=r},830:()=>{Object.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},RegExp.specialSymbols=["[","]","\\","^","$",".","|","?","*","+","(",")"],window.timeout=function(e){return new Promise((t=>setTimeout(t,e)))},Math.norminv=function(e){const t=-.00778489400243029,n=-.322396458041136,i=-2.40075827716184,r=-2.54973253934373,o=4.37466414146497,s=2.93816398269878,a=.00778469570904146,l=.32246712907004,d=2.445134137143,u=3.75440866190742,c=.02425;let h,m,p;if(!((e/=100)<0||e>1))return e<c?(h=Math.sqrt(-2*Math.log(e)),p=(((((t*h+n)*h+i)*h+r)*h+o)*h+s)/((((a*h+l)*h+d)*h+u)*h+1)):e<=.97575?(h=e-.5,m=h*h,p=(((((-39.6968302866538*m+220.946098424521)*m-275.928510446969)*m+138.357751867269)*m-30.6647980661472)*m+2.50662827745924)*h/(((((-54.4760987982241*m+161.585836858041)*m-155.698979859887)*m+66.8013118877197)*m-13.2806815528857)*m+1)):(h=Math.sqrt(-2*Math.log(1-e)),p=-(((((t*h+n)*h+i)*h+r)*h+o)*h+s)/((((a*h+l)*h+d)*h+u)*h+1)),p},Math.normdist=function(e){let t=1;return e<0&&(t=-1),.5*(1+t*function(e){e=Math.abs(e);const t=1/(1+.3275911*e);return 1-((((1.061405429*t-1.453152027)*t+1.421413741)*t-.284496736)*t+.254829592)*t*Math.exp(-1*e*e)}(Math.abs(e)/Math.sqrt(2)))*100},Math.mean=function(e){return e.reduce(((t,n)=>n/e.length+t),0)},Math.stddev={},Math.stddev.s=function(e){const t=e.length,n=e.reduce(((e,n)=>e+n/t),0),i=t-1;return Math.sqrt(e.map((e=>(e-n)**2)).reduce(((e,t)=>e+t/i),0))},Math.var={},Math.var.s=function(e){const t=e.length,n=e.reduce(((e,n)=>e+n/t),0),i=t-1;return e.map((e=>(e-n)**2)).reduce(((e,t)=>e+t/i),0)},Math.fisher=function(e){return.5*Math.log((1+e)/(1-e))},Number.resultForm=function(e,t){return"number"!=typeof e||Number.isNaN(e)?"-":t?e:Math.roundGOST(e,2)},String.resultForm=function(e){return null!=e?e:"-"},Math.roundGOST=function(e){let t,n=Math.abs(e);return n>=10?(t=e,"5"===String(n).split(".")[1]?.charAt(1)&&(t+=.01*Math.sign(e)),t.toFixed(1)):n>=1?(t=e,"5"===String(n).charAt(4)&&(t+=.001*Math.sign(e)),t.toPrecision(3)):.995===n?Math.round(e).toFixed(2):(t=e.toPrecision(2),1==t?"1.00":-1==t?"-1.00":t)},Math.rank={},Math.rank.avg=function(e,t){const n={};let i=t;if(!t){const t=[...e].customSort(!0);i=e=>t.indexOf(e)+1}for(let t of e)n[t]?n[t].count++:n[t]={rank:i(t),avg:0,count:1,val:t};const r=Object.values(n).sort(((e,t)=>e.rank-t.rank));r.get=function(e){return this.find((t=>t.val===e)).avg};let o=0,s=0;for(;o<r.length;)r[o].avg=(2*s+r[o].count+1)/2,s+=r[o].count,o++;return r},Math.getZAlpha=function(e,t){return"both"===e?Math.norminv(t/2):Math.norminv(t)},Math.getZ=function(e,t){return e+Math.norminv(100-t)},Array.prototype.has=function(e){return void 0!==this.find((t=>t===e))},Array.prototype.customSort=function(e){return this.sort(e?function(e,t){return e-t}:void 0)},Math.getU=function(e,t,n){let i=0;if(n){const r=[...e,...t],o=Math.rank.avg(r,n),s=e.length,a=t.length;let l=0;e.forEach((e=>l+=o.get(e))),i=s*a+s*(s+1)/2-l}else e.forEach((e=>{t.forEach((t=>{e-t<0&&i++}))}));return i},Math.getW=function(e,t,n){let i,r;n?(i=t.map((e=>n(e))),r=e.map((e=>n(e)))):(i=t,r=e);const o=[],s=[];for(let e=0;e<i.length;e++){const t=i[e]-r[e];if(0===t)continue;const n=Math.abs(t);o.push(t),s.push(n)}const a=Math.rank.avg(s);return{W:o.reduce(((e,t,n)=>e+Math.sign(t)*a.get(s[n])),0),nn:o.length}},Object.getNameFromPath=function(e){return e.replace(/^.*(\\|\/|\:)/,"")},Object.getDirFromPath=function(e){return e.match(/^.*(\\|\/|\:)/,"")[0]},File.readUploadedFileAsText=(e,t)=>{const n=new FileReader;return new Promise(((i,r)=>{n.onerror=()=>{n.abort(),r(new DOMException("Ошибка при парсинге файла."))},n.onload=()=>{i(n.result)},n.readAsText(e,t)}))},Blob.createBlobWithEncoding=(e,t,n)=>{const i=new TextEncoder(t,{NONSTANDARD_allowLegacyEncoding:!0}).encode(e);return new Blob([i],{type:n})}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.m=t,i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+i.h()+".js",i.miniCssF=e=>{},i.h=()=>"37449fb2f0a63428a12b",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},i.l=(t,n,r,o)=>{if(e[t])e[t].push(n);else{var s,a;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==t){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=t),e[t]=[n];var c=(n,i)=>{s.onerror=s.onload=null,clearTimeout(h);var r=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(i))),n)return n(i)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),a&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[s,a,l]=n,d=0;if(s.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)l(i)}for(t&&t(n);d<s.length;d++)o=s[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r={};(()=>{"use strict";i.d(r,{U:()=>n});i(830);var e=i(211),t=i(988);async function n(){try{document.body.classList.add("laoding");const n=await e.Z.getData(),i={dataControlsData:n,moduleIntegratorData:t.Z.getData()},r=JSON.stringify(i),o=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(o),a=document.createElement("a"),l=t.Z.getGlobalName();a.download=`${l||"results"}.json`,a.href=s,a.click(),URL.revokeObjectURL(s)}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка при сохранении"),console.error(e)}finally{document.body.classList.remove("loading")}}window.uiControls={body:void 0,pageBody:void 0,moduleListElement:void 0,modulesItems:[],burgerMenu:void 0,burgerMenuInput:void 0,burgerUpLine:void 0,burgerDownLine:void 0,fadeScreen:void 0,sidebar:void 0,menuBtns:[],csvUploadBtn:void 0,exportBtn:void 0,newProject:void 0,saveProject:void 0,loadProject:void 0,settingsForm:void 0,settingsSkipInput:void 0,settingsEncodingInput:void 0,settingsColDelimiterInput:void 0,settingsDecimalDelimiterInput:void 0,dataContainer:void 0,dataTable:void 0,dataFooter:void 0,footerList:void 0,dataFooterElements:{old:[],new:[]},calculationWindow:void 0,parameters:void 0,parametersContainer:void 0,parametersGlobItem:void 0,globalSettingsForm:void 0,FWERInput:void 0,powerInput:void 0,mainHypSelect:void 0,mainHypSelectNullOption:void 0,resizeBarsEl:[],results:void 0,resultsContainer:void 0,resultsLoader:void 0,resBlock:void 0,resFwer:void 0,resNumber:void 0,resImportance:void 0,resMainHyp:void 0,resPower:void 0,resSampleSizePrecise:void 0,resSampleSize:void 0,modalVarType:void 0,varIcons:{old:[],new:[]},varTypesUniteBtn:void 0,varTypesUnitedContainer:void 0,varTypesForm:void 0,rangTable:void 0,binSettings:void 0,binTables:void 0,varTypesLevelControls:{up:void 0,down:void 0},varTypesSwitchBtn:void 0,modalVarTypeBtns:void 0,varTypesRemoveBtn:void 0,curIcon:void 0,modalSettings:void 0,dataSettingsBtns:{old:[],new:[]},modalSettingsBtns:void 0,modalUnite:void 0,modalUniteForm:void 0,sheetSelectUnite:void 0,modalUniteBtns:void 0,uniteTableBody:void 0,errorElement:void 0,initConstuiControls(){uiControls.initConstElements(),uiControls.initConstListeners()},initConstElements(){uiControls.body=document.getElementsByTagName("body")[0],uiControls.pageBody=document.querySelector(".page-body"),uiControls.moduleListElement=document.querySelector(".modules__list"),uiControls.dataContainer=document.querySelector(".data__container"),uiControls.dataFooter=uiControls.dataContainer.querySelector(".data__footer"),uiControls.footerList=uiControls.dataContainer.querySelector(".footer__list"),uiControls.burgerMenu=document.querySelector(".burger-menu"),uiControls.burgerMenuInput=uiControls.burgerMenu.querySelector("#burger-menu__input"),uiControls.burgerUpLine=uiControls.burgerMenu.querySelector(".burger-menu__line-up"),uiControls.burgerDownLine=uiControls.burgerMenu.querySelector(".burger-menu__line-down"),uiControls.sidebar=document.querySelector(".sidebar"),uiControls.fadeScreen=document.querySelector(".fade"),uiControls.menuBtns=[...document.querySelectorAll(".sidebar__item")],uiControls.csvUploadBtn=document.getElementById("csvUpload"),uiControls.exportBtn=document.getElementById("export-results"),uiControls.saveProject=document.getElementById("save-project"),uiControls.newProject=document.getElementById("new-project"),uiControls.loadProject=document.getElementById("load-project"),uiControls.settingsForm=document.getElementById("settings-form"),uiControls.settingsSkipInput=uiControls.settingsForm.querySelector("#skip-options"),uiControls.settingsEncodingInput=uiControls.settingsForm.querySelector("#encoding-options"),uiControls.settingsColDelimiterInput=uiControls.settingsForm.querySelector("#col-delimiter-options"),uiControls.settingsDecimalDelimiterInput=uiControls.settingsForm.querySelector("#decimal-delimiter-options"),uiControls.calculationWindow=document.querySelector(".calculation-window"),uiControls.resizeBarsEl=[...uiControls.calculationWindow.querySelectorAll(".resize-bar")],uiControls.results=uiControls.calculationWindow.querySelector(".results"),uiControls.resultsLoader=uiControls.results.querySelector(".loader"),uiControls.resultsContainer=uiControls.results.querySelector(".results__container"),uiControls.resBlock=uiControls.resultsContainer.querySelector("#global-results"),uiControls.resName=uiControls.resBlock.querySelector("#results-name"),uiControls.resFwer=uiControls.resBlock.querySelector("#results-FWER"),uiControls.resNumber=uiControls.resBlock.querySelector("#results-number"),uiControls.resImportance=uiControls.resBlock.querySelector("#results-importance"),uiControls.resMainHyp=uiControls.resBlock.querySelector("#results-main-hyp"),uiControls.resPower=uiControls.resBlock.querySelector("#results-power"),uiControls.resSampleSize=uiControls.resBlock.querySelector("#results-sample-size"),uiControls.resSampleSizePrecise=uiControls.resBlock.querySelector("#results-sample-size-precise"),uiControls.parameters=uiControls.calculationWindow.querySelector(".parameters"),uiControls.parametersContainer=uiControls.parameters.querySelector(".parameters__container"),uiControls.parametersGlobItem=uiControls.parameters.querySelector("#parameters__item_glob"),uiControls.globalSettingsForm=uiControls.parameters.querySelector("#module-option-form_glob"),uiControls.FWERInput=uiControls.parametersGlobItem.querySelector("#FWER-input"),uiControls.powerInput=uiControls.parametersGlobItem.querySelector("#power-input"),uiControls.mainHypSelect=uiControls.parametersContainer.querySelector("#main-hypothesis"),uiControls.mainHypSelectNullOption=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_null"),uiControls.modalVarType=document.querySelector(".modal-var-types"),uiControls.varTypesForm=uiControls.modalVarType.querySelector("#var-type-form"),uiControls.rangTable=uiControls.modalVarType.querySelector(".modal-var-types__rang-table-body"),uiControls.binSettings=uiControls.modalVarType.querySelector(".modal-var-types__binary-settings"),uiControls.binTables=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__binary-table-body")],uiControls.varTypesLevelControls.up=uiControls.modalVarType.querySelector(".switch-button_up"),uiControls.varTypesLevelControls.down=uiControls.modalVarType.querySelector(".switch-button_down"),uiControls.modalVarTypeBtns=[...uiControls.modalVarType.querySelectorAll(".modal-window__btn")],uiControls.varTypesSwitchBtn=uiControls.binSettings.querySelector(".switch-button"),uiControls.varTypesUniteBtn=document.getElementById("var-types-unite-btn"),uiControls.varTypesUnitedContainer=uiControls.modalVarType.querySelector(".modal-var-types__united-container"),uiControls.varTypesUnitedName=uiControls.modalVarType.querySelector(".modal-var-types__united-name"),uiControls.varTypesRemoveBtn=uiControls.modalVarType.querySelector("#modal-var-types__united-delete-btn"),uiControls.modalSettings=document.querySelector(".modal-settings"),uiControls.modalSettingsBtns=[...uiControls.modalSettings.querySelectorAll(".modal-window__btn")],uiControls.modalUnite=document.querySelector(".modal-unite"),uiControls.modalUniteForm=uiControls.modalUnite.querySelector("#unite-form"),uiControls.modalUniteBtns=[...uiControls.modalUnite.querySelectorAll(".modal-window__btn")],uiControls.sheetFormUnite=uiControls.modalUnite.querySelector(".sheet-form"),uiControls.sheetSelectUnite=uiControls.sheetFormUnite.querySelector(".sheet-select"),uiControls.uniteTableBody=uiControls.modalUnite.querySelector(".modal-unite__table-body"),uiControls.errorElement=document.querySelector("#error-show")},initConstListeners(){uiControls.addBurgerListener(),uiControls.addResizeBarsListeners(),uiControls.addWindowResizeListeners(),uiControls.addModalSettingsListener(),uiControls.addModalVarChooseListener(),uiControls.addModalUniteListener(),uiControls.addNewProjectListener(),uiControls.addSaveProjectListener(),uiControls.addLoadProjectListener(),uiControls.addCsvUploadListeners(),uiControls.addExportBtnListeners()},initNewSheetControls(){uiControls.initNewSheetElements(),uiControls.initNewSheetListeners()},initNewSheetElements(){uiControls.dataFooterElements.new=[...uiControls.dataFooter.querySelectorAll(".footer__item_new")],uiControls.varIcons.new=[...uiControls.dataContainer.querySelectorAll(".data__var-icon_new")],uiControls.dataSettingsBtns.new=[...uiControls.dataContainer.querySelectorAll(".dataSettingsBtn_new")]},initNewSheetListeners(){uiControls.addVarIconsListeners(),uiControls.addDataSettingsListener(),uiControls.addFooterItemListeners()},addBurgerListener(){uiControls.burgerMenu.addEventListener("click",uiControls.toggleMenu),uiControls.fadeScreen.addEventListener("click",uiControls.toggleMenu)},addNewProjectListener(){uiControls.newProject.addEventListener("click",(e=>{try{const e=window.open("#","_blank");if(!e)throw new Error("Браузер заблокировал всплывающие окна. Чтобы открыть новый проект - разрешите браузеру показывать всплывающие окна.");e.focus(),uiControls.toggleMenu()}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка при загрузке файла"),console.error(e)}}))},addCsvUploadListeners(){uiControls.csvUploadBtn.addEventListener("click",(function(){this.value=null})),uiControls.csvUploadBtn.addEventListener("change",(t=>{e.Z.readSingleFile(t.target.files[0]),uiControls.toggleMenu()}))},addSaveProjectListener(){uiControls.saveProject.addEventListener("click",(()=>{n(),uiControls.toggleMenu()}))},addLoadProjectListener(){uiControls.loadProject.addEventListener("click",(function(){this.value=null})),uiControls.loadProject.addEventListener("change",(e=>{try{const t=e.target.files[0];if(!t)throw new Error("Ошибка при загрузке файла");if("json"!==t.name.split(".").pop())throw new Error("Неверный тип файла");const n=window.open("#","_blank");if(!n)throw new Error("Браузер заблокировал всплывающие окна. Чтобы загрузить проект - разрешите браузеру показывать всплывающие окна.");n.fileToLoad=t,n.focus(),uiControls.toggleMenu()}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка при загрузке файла"),console.error(e)}}))},addExportBtnListeners(){uiControls.exportBtn.addEventListener("click",(()=>{t.Z.exportResults(),uiControls.toggleMenu()}))},addResizeBarsListeners(){function e(e){e.preventDefault(),window.addEventListener("mousemove",i),window.addEventListener("mouseup",(function e(){uiControls.resizeBarCheckBounds(),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)}));const t=e.clientX,n=uiControls.calculationWindow.offsetWidth;function i(e){e.preventDefault(),uiControls.calculationWindow.style.width=n-(e.clientX-t)+"px"}}uiControls.resizeBarsEl.forEach((t=>{t.addEventListener("mousedown",e)}))},addWindowResizeListeners(){window.addEventListener("resize",uiControls.resizeBarCheckBounds)},addFooterItemListeners(){uiControls.dataFooterElements.new.forEach((t=>{t.addEventListener("click",(()=>e.Z.selectSheet(t.id))),t.classList.remove("footer__item_new"),uiControls.dataFooterElements.old.push(t)})),uiControls.dataFooterElements.new=[]},addVarIconsListeners(){uiControls.varIcons.new.forEach((t=>{t.addEventListener("click",(t=>{const n=e.Z.createVarSettings.bind(null,t.currentTarget.getAttribute("id"));uiControls.openModal(t,uiControls.modalVarType,n,[uiControls.modalVarType,uiControls.modalUnite])})),t.classList.remove("data__var-icon_new")})),uiControls.varIcons.new=[]},addDataSettingsListener(){uiControls.dataSettingsBtns.new.forEach((e=>{e.addEventListener("click",(e=>{uiControls.openModal(e,uiControls.modalSettings,null,[uiControls.modalSettings])})),e.classList.remove("dataSettingsBtn_new"),uiControls.dataSettingsBtns.old.push(e)})),uiControls.dataSettingsBtns.new=[]},addModalSettingsListener(){uiControls.settingsForm.addEventListener("submit",(t=>{e.Z.submitSettings(t,new FormData(uiControls.settingsForm))})),uiControls.modalSettingsBtns.forEach((e=>{e.addEventListener("click",(()=>{uiControls.modalSettings.classList.add("hidden")}))})),uiControls.modalSettings.querySelector(".modal-window__header").addEventListener("mousedown",(e=>{uiControls.dragMouseDown(e,uiControls.modalSettings)}))},addModalUniteListener(){uiControls.modalUniteForm.addEventListener("submit",(t=>{t.preventDefault(),e.Z.setUnitedVars(new FormData(uiControls.modalUniteForm))})),uiControls.modalUniteBtns.forEach((e=>{e.addEventListener("click",(()=>{uiControls.modalUnite.classList.add("hidden")}))})),uiControls.sheetFormUnite.addEventListener("change",(()=>{e.Z.refreshVarsOfUniteModal(new FormData(uiControls.sheetFormUnite))})),uiControls.modalUnite.querySelector(".modal-window__header").addEventListener("mousedown",(e=>{uiControls.dragMouseDown(e,uiControls.modalUnite)}))},addModalVarChooseListener(){const t=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__item-input")],n=uiControls.modalVarType.querySelector(".modal-var-types__rang"),i=uiControls.modalVarType.querySelector(".modal-var-types__rang-settings"),r=uiControls.modalVarType.querySelector(".modal-var-types__binary"),o=uiControls.modalVarType.querySelector(".modal-var-types__binary-settings");function s(e){const t=uiControls.rangTable,n=t.querySelector('input[type="radio"]:checked')?.parentElement;if(!n)return;let i;e&&n.nextElementSibling?(i=n.nextElementSibling,t.removeChild(n),t.insertBefore(n,i.nextElementSibling)):!e&&n.previousElementSibling&&(i=n.previousElementSibling,t.removeChild(n),t.insertBefore(n,i))}t.forEach((e=>e.addEventListener("click",(()=>{e.isSameNode(r)?o.classList.remove("hidden"):o.classList.add("hidden"),e.isSameNode(n)?i.classList.remove("hidden"):i.classList.add("hidden")})))),uiControls.varTypesLevelControls.up.addEventListener("click",(()=>{s(!1)})),uiControls.varTypesLevelControls.down.addEventListener("click",(()=>{s(!0)})),uiControls.varTypesSwitchBtn.addEventListener("click",(function(){const e=uiControls.binSettings.querySelector('input[type="radio"]:checked')?.parentElement;if(!e)return;const t=e.parentElement;t.removeChild(e);const n=t=>{t.insertBefore(e,t.querySelector(".var-table__anchor_"+e.dataset.anchor))};t.isSameNode(uiControls.binTables[0])?(n(uiControls.binTables[1]),uiControls.varTypesSwitchBtn.classList.replace("switch-button_right","switch-button_left")):(n(uiControls.binTables[0]),uiControls.varTypesSwitchBtn.classList.replace("switch-button_left","switch-button_right"))})),uiControls.varTypesUniteBtn.addEventListener("click",(t=>{const n=e.Z.refreshVarsOfUniteModal.bind(e.Z,new FormData(uiControls.sheetFormUnite));uiControls.openModal(t,uiControls.modalUnite,n,[uiControls.modalUnite],{x:"10%",y:"10%"})})),uiControls.varTypesRemoveBtn.addEventListener("click",(()=>{e.Z.removeUnion()})),uiControls.varTypesForm.addEventListener("submit",(t=>{t.preventDefault();const n=[...uiControls.rangTable.querySelectorAll(".var-table__item")].map((e=>Number(e.dataset.order))),i={group0:[...uiControls.binTables[0].querySelectorAll(".var-table__item")].map((e=>e.dataset.anchor)),group1:[...uiControls.binTables[1].querySelectorAll(".var-table__item")].map((e=>e.dataset.anchor))};e.Z.setVarSettings(new FormData(uiControls.varTypesForm),n,i)})),uiControls.modalVarTypeBtns.forEach((e=>{e.addEventListener("click",(()=>{uiControls.modalVarType.classList.add("hidden")}))})),uiControls.modalVarType.querySelector(".modal-window__header").addEventListener("mousedown",(e=>{uiControls.dragMouseDown(e,uiControls.modalVarType)}))},addModuleBtnsListeners(){const e=[...document.querySelectorAll(".modules__item")];uiControls.modulesItems=e,e.forEach((e=>{const n=e.dataset.moduleId;e.addEventListener("click",(()=>{const e=t.Z.addHypothesis(n),i=t.Z.getHypElementById(e),r=t.Z.getResultElementById(e);uiControls.scrollCenter(uiControls.parametersContainer,i),uiControls.scrollCenter(uiControls.resultsContainer,r)}))}))},scrollCenter(e,t){let n=t.offsetTop-uiControls.pageBody.getBoundingClientRect().height/2+t.getBoundingClientRect().height/2;e.scrollTo({behavior:"smooth",top:n,left:0})},addModuleFormListeners(e,n,i){const r=e.querySelector(".module-option-form"),o=[...e.querySelectorAll(".form-change-trigger")],s=e.querySelector(".collapsible__input"),a=e.querySelector(".collapsible__symbol"),l=e.querySelector(".collapsible__content");if(s.addEventListener("click",(()=>{a.classList.toggle("collapsible__symbol_checked"),l.classList.toggle("collapsible__content_checked")})),i)return void o.forEach((e=>e.addEventListener("change",(()=>{t.Z.setSettings("glob",r,r.querySelector(".target-table-data"))}))));o.forEach((n=>n.addEventListener("change",(()=>{t.Z.setSettings(T(e),r,r.querySelector(".target-table-data"))}))));[...e.querySelectorAll(".sheet-form")].forEach((n=>{n.addEventListener("change",(()=>{t.Z.refreshVarsOfHyp(T(e),n)}))}));const d=e.querySelector(".manual-input-on"),u=e.querySelector(".data-input-two"),c=e.querySelector(".data-input-group"),h=e.querySelector(".two-column-var"),m=e.querySelector(".grouping-var"),p=e.querySelector(".option-block__test-type"),_=[...e.querySelectorAll(".option-block__manual-input")];if(d?.addEventListener("click",(()=>{const t=p.querySelector("input:checked").value;e.querySelector(`.option-block__${t}`).classList.remove("option-block_hidden"),h?.classList.add("option-block_hidden"),m?.classList.add("option-block_hidden")})),u?.addEventListener("click",(()=>{g(),m?.classList.add("option-block_hidden"),h.classList.remove("option-block_hidden")})),c?.addEventListener("click",(()=>{g(),h?.classList.add("option-block_hidden"),m.classList.remove("option-block_hidden")})),p){[...p.querySelectorAll("input")].forEach((t=>{t.addEventListener("click",(()=>{if(d.checked){g();e.querySelector(`.option-block__${t.value}`).classList.remove("option-block_hidden")}}))}))}function g(){_?.forEach((e=>{e.classList.add("option-block_hidden")}))}n&&n();const f=e.querySelector(".extra_hide-button"),y=f.querySelector("input"),b=e.querySelector(".parameters__content"),C=e.querySelector(".parameters__title-container");y.addEventListener("click",(()=>{b.classList.toggle("parameters__content_hidden"),C.classList.toggle("parameters__title-container_hidden"),f.classList.toggle("extra_hide-button_hidden"),t.Z.hideUnhideHyp(T(e))}));const v=e.querySelector(".extra_edit-button"),S=e.querySelector(".parameters__title"),w=e.querySelector(".parameters__title-input");w.value=S.textContent;const E=function(){k()},L=function(e){"Enter"===e.key&&k()};function k(){""!==w.value.trim()?(w.removeEventListener("focusout",E),w.removeEventListener("keypress",L),S.classList.remove("hidden"),w.classList.add("hidden"),t.Z.nameChange(T(e),w.value)):uiControls.showError(w,"Заполните это поле")}v.addEventListener("click",(()=>{S.classList.add("hidden"),w.classList.remove("hidden"),w.focus(),w.addEventListener("focusout",E),w.addEventListener("keypress",L)}));e.querySelector(".extra_duplicate-button").addEventListener("click",(()=>{t.Z.duplicateHyp(T(e))}));function T(e){return Number(e.querySelector(".module-option-form").dataset.id)}e.querySelector(".extra_delete-button").addEventListener("click",(()=>{t.Z.deleteHyp(T(e))}))},resizeBarCheckBounds(){const e=uiControls.calculationWindow.offsetWidth,t=uiControls.resizeBarsEl[0].offsetWidth,n=t+uiControls.results.offsetWidth,i=t+uiControls.parameters.offsetWidth,r=uiControls.body.clientWidth;n>=r?uiControls.calculationWindow.style.width=i+r+"px":e<t&&(uiControls.calculationWindow.style.width=t+"px")},toggleMenu(){uiControls.burgerMenuInput.checked?(uiControls.sidebar.classList.remove("sidebar_checked"),uiControls.burgerUpLine.classList.remove("burger-menu__line-up_checked"),uiControls.burgerDownLine.classList.remove("burger-menu__line-down_checked"),uiControls.fadeScreen.style["z-index"]="-1",uiControls.burgerMenuInput.checked=!1,uiControls.fadeScreen.style.opacity="0"):(uiControls.sidebar.classList.add("sidebar_checked"),uiControls.burgerUpLine.classList.add("burger-menu__line-up_checked"),uiControls.burgerDownLine.classList.add("burger-menu__line-down_checked"),uiControls.fadeScreen.style["z-index"]="1",uiControls.burgerMenuInput.checked=!0,uiControls.fadeScreen.style.opacity="1")},footerSetMaxWidth(){uiControls.dataFooter.style.width="100%"},openModal(e,t,n,i,r){let o={};if(r)Object.assign(o,r);else{const t=e.currentTarget;o.x=t.getBoundingClientRect().right+"px",o.y=t.getBoundingClientRect().bottom+"px"}setTimeout((()=>{t.style.left=o.x,t.style.top=o.y,n&&n(),t.classList.remove("hidden"),window.addEventListener("click",(function e(n){const r=i.every((e=>!e.contains(n.target)));r&&(t.classList.add("hidden"),window.removeEventListener("click",e))}))}))},dragMouseDown(e,t){let n=0,i=0,r=0,o=0;(e=e||window.event).preventDefault(),r=e.clientX,o=e.clientY,document.onmouseup=function(){document.onmouseup=null,document.onmousemove=null},document.onmousemove=function(e){e=e||window.event,e.preventDefault(),n=r-e.clientX,i=o-e.clientY,r=e.clientX,o=e.clientY,t.style.top=t.offsetTop-i+"px",t.style.left=t.offsetLeft-n+"px"}},resultsLoadingShow(){uiControls.resultsContainer.style.opacity="0.1",uiControls.resultsLoader.classList.remove("hidden")},resultsLoadingHide(){uiControls.resultsContainer.style.opacity="1",uiControls.resultsLoader.classList.add("hidden")},showError(e,t){const n=e.getBoundingClientRect(),i=o(n.x+n.width/2,window.innerWidth),r=o(n.y+n.height,window.innerHeight);function o(e,t,n=20){if(e>n){const i=t-n;return e<i?e:i}return n}uiControls.errorElement.style.left=i+"px",uiControls.errorElement.style.top=r+"px",uiControls.errorElement.setCustomValidity(t),uiControls.errorElement.reportValidity()}},async function(){uiControls.initConstuiControls(),await t.Z.createModuleButtons(),window.fileToLoad&&async function(n){try{document.body.classList.add("loading");const i=await File.readUploadedFileAsText(n),r=JSON.parse(i);await e.Z.loadData(r.dataControlsData),t.Z.loadData(r.moduleIntegratorData)}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка при загрузке файла"),console.error(e)}finally{document.body.classList.remove("loading")}}(window.fileToLoad)}()})()})();