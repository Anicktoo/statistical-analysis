/*! For license information please see main.2e819e5c6b512181779b.js.LICENSE.txt */
(()=>{var e,t={381:function(e,t){var n,r,i;r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},o=0,s={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(v(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!v(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,a=(n=t.URL||t.webkitURL||null,r=e.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=f,l.id=o++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=v(r.step),r.chunk=v(r.chunk),r.complete=v(r.complete),r.error=v(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var p=null;return s.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),p=r.download?new u(r):new c(r)):!0===n.readable&&v(n.read)&&v(n.on)?p=new h(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new d(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",a='"',l=a+a,u=!1,d=null,c=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(c=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,u);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&r){for(var u=0;u<e.length;u++)0<u&&(s+=i),s+=g(e[u],u);0<t.length&&(s+=o)}for(var d=0;d<t.length;d++){var c=a?e.length:t[d].length,h=!1,p=a?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!a&&(h="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&a){for(var m=[],f=0;f<c;f++){var y=l?e[f]:f;m.push(t[d][y])}h=""===m.join("").trim()}if(!h){for(var _=0;_<c;_++){0<_&&!p&&(s+=i);var C=a&&l?e[_]:_;s+=g(t[d][C],_)}d<t.length-1&&(!n||0<c&&!p)&&(s+=o)}}return s}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;c&&"string"==typeof e&&c.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(h,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,s.BAD_DELIMITERS)||-1<o.indexOf(i)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=p,s.NetworkStreamer=u,s.FileStreamer=d,s.StringStreamer=c,s.ReadableStreamStreamer=h,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:a.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,l,u=r[0];if(v(e.before)){var d=e.before(u.file,u.inputElem);if("object"==typeof d){if("abort"===d.action)return t="AbortError",n=u.file,i=u.inputElem,l=d.reason,void(v(e.error)&&e.error({name:t},n,i,l));if("skip"===d.action)return void o();"object"==typeof d.config&&(u.instanceConfig=a.extend(u.instanceConfig,d.config))}else if("skip"===d)return void o()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(e){v(c)&&c(e,u.file,u.inputElem),o()},s.parse(u.file,u.instanceConfig)}else v(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=C(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:s.WORKER_ID,finished:u});else if(v(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!u||!v(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){v(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function d(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function c(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,r,i=Math.pow(2,53),o=-i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,c=0,h=!1,p=!1,f=[],y={data:[],errors:[],meta:{}};if(v(e.step)){var _=e.step;e.step=function(t){if(y=t,w())S();else{if(S(),0===y.data.length)return;d+=t.data.length,e.preview&&d>e.preview?n.abort():(y.data=y.data[0],_(y,u))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function S(){return y&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter((function(e){return!b(e)}))),w()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;w()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){v(e.transformHeader)&&(t=e.transformHeader(t,n)),f.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,s=t[r];e.header&&(o=r>=f.length?"__parsed_extra":f[r]),e.transform&&(s=e.transform(s,o)),s=E(o,s),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(s)):i[o]=s}return e.header&&(r>f.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+r,c+n):r<f.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+r,c+n)),i}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),n=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=f),c+=n,y}()}function w(){return e.header&&0===f.length}function E(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(o<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),y.errors.push(i)}this.parse=function(i,o,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var s=0,a=0;a<r.length;a++)"\n"===r[a][0]&&s++;return s>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)v(e.delimiter)&&(e.delimiter=e.delimiter(i),y.meta.delimiter=e.delimiter);else{var u=function(t,n,r,i,o){var a,l,u,d;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var c=0;c<o.length;c++){var h=o[c],p=0,m=0,f=0;u=void 0;for(var y=new g({comments:i,delimiter:h,newline:n,preview:10}).parse(t),_=0;_<y.data.length;_++)if(r&&b(y.data[_]))f++;else{var C=y.data[_].length;m+=C,void 0!==u?0<C&&(p+=Math.abs(C-u),u=C):u=C}0<y.data.length&&(m/=y.data.length-f),(void 0===l||p<=l)&&(void 0===d||d<m)&&1.99<m&&(l=p,a=h,d=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=s.DefaultDelimiter),y.meta.delimiter=e.delimiter}var d=C(e);return e.preview&&e.header&&d.preview++,t=i,n=new g(d),y=n.parse(t,o,a),S(),h?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=v(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(h=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),y.meta.aborted=!0,v(e.complete)&&e.complete(y),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,a=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var d=0,c=!1;this.parse=function(s,h,p){if("string"!=typeof s)throw new Error("Input must be a string");var g=s.length,f=n.length,y=r.length,_=i.length,C=v(o),b=[],S=[],w=[],E=d=0;if(!s)return $();if(e.header&&!h){var k=s.split(r)[0].split(n),L=[],T={},x=!1;for(var I in k){var O=k[I];v(e.transformHeader)&&(O=e.transformHeader(O,I));var R=O,M=T[O]||0;for(0<M&&(x=!0,R=O+"_"+M),T[O]=M+1;L.includes(R);)R=R+"_"+M;L.push(R)}if(x){var q=s.split(r);q[0]=L.join(n),s=q.join(r)}}if(l||!1!==l&&-1===s.indexOf(t)){for(var D=s.split(r),B=0;B<D.length;B++){if(w=D[B],d+=w.length,B!==D.length-1)d+=r.length;else if(p)return $();if(!i||w.substring(0,_)!==i){if(C){if(b=[],j(w.split(n)),Z(),c)return $()}else j(w.split(n));if(a&&a<=B)return b=b.slice(0,a),$(!0)}}return $()}for(var N=s.indexOf(n,d),F=s.indexOf(r,d),A=new RegExp(m(u)+m(t),"g"),H=s.indexOf(t,d);;)if(s[d]!==t)if(i&&0===w.length&&s.substring(d,d+_)===i){if(-1===F)return $();d=F+y,F=s.indexOf(r,d),N=s.indexOf(n,d)}else if(-1!==N&&(N<F||-1===F))w.push(s.substring(d,N)),d=N+f,N=s.indexOf(n,d);else{if(-1===F)break;if(w.push(s.substring(d,F)),P(F+y),C&&(Z(),c))return $();if(a&&b.length>=a)return $(!0)}else for(H=d,d++;;){if(-1===(H=s.indexOf(t,H+1)))return p||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:d}),W();if(H===g-1)return W(s.substring(d,H).replace(A,t));if(t!==u||s[H+1]!==u){if(t===u||0===H||s[H-1]!==u){-1!==N&&N<H+1&&(N=s.indexOf(n,H+1)),-1!==F&&F<H+1&&(F=s.indexOf(r,H+1));var V=U(-1===F?N:Math.min(N,F));if(s.substr(H+1+V,f)===n){w.push(s.substring(d,H).replace(A,t)),s[d=H+1+V+f]!==t&&(H=s.indexOf(t,d)),N=s.indexOf(n,d),F=s.indexOf(r,d);break}var z=U(F);if(s.substring(H+1+z,H+1+z+y)===r){if(w.push(s.substring(d,H).replace(A,t)),P(H+1+z+y),N=s.indexOf(n,d),H=s.indexOf(t,d),C&&(Z(),c))return $();if(a&&b.length>=a)return $(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:d}),H++}}else H++}return W();function j(e){b.push(e),E=d}function U(e){var t=0;if(-1!==e){var n=s.substring(H+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return p||(void 0===e&&(e=s.substring(d)),w.push(e),d=g,j(w),C&&Z()),$()}function P(e){d=e,j(w),w=[],F=s.indexOf(r,d)}function $(e){return{data:b,errors:S,meta:{delimiter:n,linebreak:r,aborted:c,truncated:!!e,cursor:E+(h||0)}}}function Z(){o($()),b=[],S=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return d}}function f(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(v(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},o),!r);s++);delete t.results}else v(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=i[e];v(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function _(){throw new Error("Not implemented.")}function C(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=C(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&t.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(l.prototype)).constructor=d,(c.prototype=Object.create(c.prototype)).constructor=c,(h.prototype=Object.create(l.prototype)).constructor=h,s},void 0===(i="function"==typeof n?n.apply(t,r):n)||(e.exports=i)},240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});const r=n.p+"4811c0d6fa606c9bc636.png",i=n.p+"6509e67c0ca32b030024.png",o=n.p+"58c46c2b0032b8505b9d.png",s=n.p+"d99a183d053ad78e856e.png",a=n.p+"e1b0e801068f2ebc9ff7.png";class l{static Binary={name:"binary",ruName:"дихотомический",img:o};static Nominal={name:"nominal",ruName:"номинативный",img:r};static Continues={name:"continues",ruName:"количественный",img:i};static Rang={name:"rang",ruName:"ранговый",img:s};static Empty={name:"empty",ruName:"пустой",img:null};static unitedRangs=[];static unitedOrder=[];static unitedSet=[];#e;#t;#n;#r;#i;#o=[];#s=[];#a;#l;#u;constructor(e,t,n,r,i){if(this.#u=!1,e===l.Empty)return this.#e=e.name,this.#t=e.ruName,void(this.#n=r);if(e!==l.Binary&&e!==l.Nominal&&e!==l.Continues&&e!==l.Rang)throw new Error("Данный тип данных не поддерживается приложением");this.#e=e.name,this.#i=e.img,this.#t=e.ruName,this.#r=t,this.#n=r,this.#l=i,this.#o=[...n].customSort("continues"===this.#e),this.#s=new Array(n.size);for(let e=0;e<n.size;e++)this.#s[e]=e;this.#a=new Array(Math.ceil(n.size/32)).fill(0),"binary"===this.#e&&(this.#a[0]=1<<31)}static clearUnited(){l.unitedRangs=[],l.unitedOrder=[],l.unitedSet=[]}switchUnitedVar(e){e?this.showUnitedOrder():this.showNormalOrder()}showUnitedOrder(){if(console.log("united show"),!l.unitedRangs[0])return;const e=uiControls.rangTable,t=[...new Set([...l.unitedRangs[0].getSet(),...this.#o])].customSort(this.isOnlyNumbers()&&l.unitedRangs[0].isOnlyNumbers());l.tmpSet=t;const n=t.map(((e,t)=>t));let r="";for(let e=0;e<t.length;e++)r+=`\n            <label class="var-table__item" data-order="${n[e]}">\n                <input type="radio" name="data_value">\n                <span>${t[n[e]]}</span>\n            </label>`;e.innerHTML=r}showNormalOrder(){console.log("normal show");const e=uiControls.rangTable,t=this.#s,n=this.#o;let r="";for(let e=0;e<n.length;e++)r+=`\n            <label class="var-table__item" data-order="${t[e]}">\n                <input type="radio" name="data_value">\n                <span>${n[t[e]]}</span>\n            </label>`;e.innerHTML=r}addUnitedVar(e){if(console.log("set united"),document.getElementById(this.#r).querySelector("img").setAttribute("src",a),l.unitedOrder=e,this.#u=!0,l.unitedRangs[0]===this||l.unitedRangs[1]===this)return;console.log("add united"),l.unitedRangs.push(this);const t=new Set([...l.unitedRangs[0].getSet(),...this.#o]);l.unitedSet=[...t].customSort(this.isOnlyNumbers()&&l.unitedRangs[0].isOnlyNumbers())}removeUnitedVar(){if(l.unitedRangs[0]===this)l.unitedRangs.shift();else{if(l.unitedRangs[1]!==this)return;l.unitedRangs.pop()}l.unitedRangs[0]?(l.unitedSet=l.unitedRangs[0].getSet(),l.unitedOrder=l.unitedRangs[0].getOrder()):(l.unitedSet=[],l.unitedOrder=[]),console.log("remove united"),this.#u=!1}setSettings(e,t,n){const r=document.getElementById(this.#r);this.#n=e.get("var-name"),r.nextElementSibling.textContent=this.#n,this.#e=e.get("var-type"),this.#i=Object.entries(l).find((e=>e[1].name===this.#e))[1].img,r.querySelector("img").setAttribute("src",this.#i);const i=e.get("unite");if("rang"===this.#e)return void(i?this.addUnitedVar(t):(this.removeUnitedVar(),this.#s=t));if(this.removeUnitedVar(),!n.group1[0])return void this.#a.fill(0);let o,s=0,a=n.group1[s],u=n.group1[s],d=a;for(let e=0;e<this.#a.length;e++){for(o=0;u<32*(e+1);)o<<=d,o|=1,a=n.group1[s],u=n.group1[++s],d=u-a;o<<=31-a%32,this.#a[this.#a.length-e-1]=o}}createHTML(){uiControls.modalVarType;const e=uiControls.modalVarType.querySelector("#modal-var-types__name"),t=uiControls.modalVarType.querySelector(".modal-var-types__continues-container"),n=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__item-input")],r=uiControls.rangTable,i=uiControls.binTables;uiControls.uniteCheckbox.dataset.id=this.#r,e.value=this.#n,e.setAttribute("value",this.#n),this.#l?(t.classList.remove("radio-line_disabled"),t.firstElementChild.disabled=!1):(t.classList.add("radio-line_disabled"),t.firstElementChild.disabled=!0);let o,s,a="";this.#u?(o=l.unitedOrder,s=l.unitedSet,uiControls.uniteCheckbox.parentElement.classList.remove("disabled"),uiControls.uniteCheckbox.checked=!0):(o=this.#s,s=this.#o,2===l.unitedRangs.length?uiControls.uniteCheckbox.parentElement.classList.add("disabled"):uiControls.uniteCheckbox.parentElement.classList.remove("disabled"),uiControls.uniteCheckbox.checked=!1);for(let e=0;e<s.length;e++)a+=`\n            <label class="var-table__item" data-order="${o[e]}">\n                <input type="radio" name="data_value">\n                <span>${s[o[e]]}</span>\n            </label>`;r.innerHTML=a;let u="",d="",c=0,h=this.#o.length-1;const p=(e,t)=>`<label class="var-table__item" data-anchor=${e}>\n                        <input type="radio" name="data_value">\n                        <span>${t}</span>\n                    </label>`,m=e=>`<div class='var-table__anchor var-table__anchor_${e}'></div>`;for(let e=this.#a.length-1;e>=0;e--){let t=1<<31;for(let n=0;n<32&&(0==(this.#a[e]&t)?u+=p(c,this.#o[c]):d+=p(c,this.#o[c]),u+=m(c),d+=m(c),c++,t>>>=1,!(c>h));n++);}function g(e){i[1].isSameNode(e.parentElement)?uiControls.varTypesSwitchBtn.classList.replace("switch-button_right","switch-button_left"):uiControls.varTypesSwitchBtn.classList.replace("switch-button_left","switch-button_right")}i[0].innerHTML=u,i[1].innerHTML=d,i.forEach((e=>[...e.querySelectorAll(".var-table__item")].forEach((e=>e.querySelector("input").addEventListener("change",g.bind(this,e)))))),n.forEach((e=>{e.value===this.#e&&e.click()}))}isValInZeroGroup(e){const t=this.#o.indexOf(e);if(-1===t)return-1;const n=this.#a.length-Math.floor(t/32)-1;if(n<0)return-1;const r=t%32;return!0&this.#a[n]>>>31-r?1:0}getOrderOfVal(e){const t=this.#o.indexOf(e);if(-1===t)return-1;const n=this.#s.indexOf(t);return void 0!==n?n+1:-1}static getOrderOfValUnited(e){const t=l.unitedSet.indexOf(e);if(-1===t)return-1;const n=l.unitedOrder.indexOf(t);return void 0!==n?n+1:-1}isOnlyNumbers(){return this.#l}isUnited(){return this.#u}getID(){return this.#r}getName(){return this.#n}getImg(){return this.#i}getSet(){return this.#o}getOrder(){return this.#s}getTypeName(){return this.#e}getRuTypeName(){return this.#t}}},211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(381);class i{static#d={skip:{value:"0"},encoding:{select:{"windows-1251":"Windows-1251","utf-8":"UTF-8"},selected:"windows-1251"},colDelimiter:{select:{",":"Запятая (,)",".":"Точка (.)",";":"Точка c запятой (;)"},selected:","},decimalDelimiter:{select:{",":"Запятая (,)",".":"Точка (.)"},selected:"."}};#c;#h;#p;#m;constructor(){this.init(i.#d)}init(e){this.#c=Object.deepCopy(e.skip),this.#h=Object.deepCopy(e.encoding),this.#p=Object.deepCopy(e.colDelimiter),this.#m=Object.deepCopy(e.decimalDelimiter)}createHTML(){function e(e,t){t.innerHTML="";for(let n of Object.entries(e.select))t.innerHTML+=`<option value="${n[0]}" ${e.selected===n[0]?"selected":""}>${n[1]}</option>`}uiControls.settingsSkipInput.setAttribute("value",`${this.#c.value}`),uiControls.settingsSkipInput.value=this.#c.value,e(this.#h,uiControls.settingsEncodingInput),e(this.#p,uiControls.settingsColDelimiterInput),e(this.#m,uiControls.settingsDecimalDelimiterInput)}getSettings(){return{skip:this.#c,encoding:this.#h,colDelimiter:this.#p,decimalDelimiter:this.#m}}setSettings(e){this.#c.value=e.get("skip"),this.#h.selected=e.get("encoding"),this.#p.selected=e.get("col-delimiter"),this.#m.selected=e.get("decimal-delimiter")}static setGlobalSettings(e){i.#d.skip.value=e.get("skip"),i.#d.encoding.selected=e.get("encoding"),i.#d.colDelimiter.selected=e.get("col-delimiter"),i.#d.decimalDelimiter.selected=e.get("decimal-delimiter")}}var o=n(988),s=n(240);class a{#n;#r;#g;#f=[];#y=[];#_={obj:{},props:{}};#C;#b;#v;#S=!1;#w;constructor(e,t,n){this.#r=n,this.#n=e,this.#_.obj=new i,this.#_.props=this.#_.obj.getSettings(),this.#E(),this.#k(),this.importFile(t)}importFile(e){this.#v=e,this.#L(!0)}setSettings(e){this.#S=!0,this.#_.obj.setSettings(e),this.#_.props=this.#_.obj.getSettings()}applySettingsAndShow(){this.#S=!1,s.Z.clearUnited(),this.#L(!1)}createVarSettings(e){const t=this.#f[Number(e.split("_")[2])];t.createHTML(),this.#w=t}setVarSettings(e,t,n){this.#w.setSettings(e,t,n),o.Z.updateVarsOfSheet(this.#r,!1)}readyToShow(){return!this.#S}show(){this.#_.obj.createHTML(),this.#C.classList.add("data__table_shown"),this.#b.classList.add("footer__item_selected"),uiControls.footerChange()}hide(){this.#C.classList.remove("data__table_shown"),this.#b.classList.remove("footer__item_selected")}setId(e){this.#r=e,this.#b.setAttribute("id",e)}#E(){this.#C=uiControls.dataContainer.insertBefore(document.createElement("table"),uiControls.dataContainer.firstChild),this.#C.classList.add("data__table"),this.#C.setAttribute("id",this.#r),this.#C.innerHTML='\n        <thead>\n            <tr>\n                <th title="Настройки импортированных данных" id="dataSettingsBtn" class="dataSettingsBtn_new">\n                    <?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"\n                        width="19px" height="19px">\n                        <path\n                            d="M47.16,21.221l-5.91-0.966c-0.346-1.186-0.819-2.326-1.411-3.405l3.45-4.917c0.279-0.397,0.231-0.938-0.112-1.282 l-3.889-3.887c-0.347-0.346-0.893-0.391-1.291-0.104l-4.843,3.481c-1.089-0.602-2.239-1.08-3.432-1.427l-1.031-5.886 C28.607,2.35,28.192,2,27.706,2h-5.5c-0.49,0-0.908,0.355-0.987,0.839l-0.956,5.854c-1.2,0.345-2.352,0.818-3.437,1.412l-4.83-3.45 c-0.399-0.285-0.942-0.239-1.289,0.106L6.82,10.648c-0.343,0.343-0.391,0.883-0.112,1.28l3.399,4.863 c-0.605,1.095-1.087,2.254-1.438,3.46l-5.831,0.971c-0.482,0.08-0.836,0.498-0.836,0.986v5.5c0,0.485,0.348,0.9,0.825,0.985 l5.831,1.034c0.349,1.203,0.831,2.362,1.438,3.46l-3.441,4.813c-0.284,0.397-0.239,0.942,0.106,1.289l3.888,3.891 c0.343,0.343,0.884,0.391,1.281,0.112l4.87-3.411c1.093,0.601,2.248,1.078,3.445,1.424l0.976,5.861C21.3,47.647,21.717,48,22.206,48 h5.5c0.485,0,0.9-0.348,0.984-0.825l1.045-5.89c1.199-0.353,2.348-0.833,3.43-1.435l4.905,3.441 c0.398,0.281,0.938,0.232,1.282-0.111l3.888-3.891c0.346-0.347,0.391-0.894,0.104-1.292l-3.498-4.857 c0.593-1.08,1.064-2.222,1.407-3.408l5.918-1.039c0.479-0.084,0.827-0.5,0.827-0.985v-5.5C47.999,21.718,47.644,21.3,47.16,21.221z M25,32c-3.866,0-7-3.134-7-7c0-3.866,3.134-7,7-7s7,3.134,7,7C32,28.866,28.866,32,25,32z" />\n                    </svg>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>'}#k(){this.#b=uiControls.footerList.appendChild(document.createElement("li")),this.#b.classList.add("footer__item","footer__item_selected","footer__item_new"),this.#b.setAttribute("id",this.#r),this.#b.innerHTML=`\n        <div class="footer__item-content">\n            <span class="footer__item-text">\n                ${this.#n}\n            </span>\n        </div>`}#T(){const e=()=>{const e=(e,t)=>`\n                <th>\n                    <div class="data__column-header">\n                        ${this.#f[t].getTypeName()===s.Z.Empty.name?"":`\n                        <div title="Сменить тип данных колонки" id=${this.#f[t].getID()} class="data__var-icon data__var-icon_new">\n                            <img src="${this.#f[t].getImg()}" alt="${this.#f[t].getName()}">\n                        </div>`}\n                        <span class="data__var-name">${e}</span>\n                    </div>\n                </th>`;return this.#g[0].map(((t,n)=>e(t,n))).reduce(((e,t)=>e+t))},t=()=>{let e=1;return this.#g.slice(1).map((t=>{return n=t.map((e=>`<td class='${"number"==typeof e?"number":""}'>${e}</td>`)),`\n                <tr>\n                    <td>${e++}</td>\n                    ${n.reduce(((e,t)=>e+t))}\n                </tr>`;var n})).join("")},n=(n,r)=>{const i=this.#C.querySelector("tr"),o=i.querySelector("#dataSettingsBtn"),s=this.#C.querySelector("tbody");i.innerHTML=n?e():"",i.insertBefore(o,i.firstElementChild),s.innerHTML=r?t():""};switch(this.#g.length){case 0:n(!1,!1);break;case 1:n(!0,!1);break;default:n(!0,!0)}uiControls.initNewSheetControls(),this.show()}#L(e){const t=this.#_.props.decimalDelimiter.selected;let n=t;RegExp.specialSymbols.includes(t)&&(n="\\"+t);const i=new RegExp(`^-?(?:\\d+(?:${n}\\d+)?|\\d+(?:${n}\\d+)?(?:e|E)(?:\\+|-)?\\d+)$`);r.parse(this.#v,{encoding:this.#_.props.encoding.selected,delimiter:this.#_.props.colDelimiter.selected,transform:(e,n)=>{let r=e.trim();return i.test(r)?Number(r.replace(t,".")):r},skipEmptyLines:!0,complete:t=>{const n=this.#_.props.skip.value;0!=n&&(t.data=t.data.slice(n)),this.#g=t.data,this.#x(),this.#T(),e&&o.Z.optionListAdd({name:this.#n,id:this.#r}),0!==this.#r&&e||o.Z.updateVarsOfSheet(this.#r,!0)}})}#x(){if(0===this.#g.length)return;let e=0;const t=()=>"var_"+this.#r+"_"+e++,n=this.#g[0].map(((e,n)=>function(e){const n=e.slice(1),r=new Set(n);r.delete("");const i=n.find((e=>"number"!=typeof e&&""!==e)),o=n=>new s.Z(n,t(),r,e[0],null==i);if(0===r.size)return o(s.Z.Empty);if(2===r.size)return o(s.Z.Binary);if(i)return o(s.Z.Nominal);return o(s.Z.Continues)}(this.#g.map((e=>e[n])))));this.#f=n,this.#y=[],n.forEach((e=>{e.getTypeName()!==s.Z.Empty.name&&this.#y.push(e)}))}getName(){return this.#n}getID(){return this.#r}getVars(){return this.#y}getVarById(e){return this.#f[e]}getDataByVarId(e){const t=function(e){let t=0;for(let n=e.length-1;n>=0&&""===e[n];n--)t--;if(t)return e.slice(0,t);return e}(this.#g.map((t=>t[e])).slice(1));return t}getData(){return Object.entries(this)}}const l={_sheets:[],_currentSheet:void 0,readSingleFile(e){const t=e.target.files[0];t?l.addSheet(t):alert("Failed to load file")},submitSettings(e,t){e.preventDefault();const n=t.get("apply-to"),r=l._currentSheet;"this"===n?r.setSettings(t):"all"===n&&(i.setGlobalSettings(t),l._sheets.forEach((e=>e.setSettings(t)))),r.applySettingsAndShow()},createVarSettings(e){l._currentSheet.createVarSettings(e)},setVarSettings(e,t,n){l._currentSheet.setVarSettings(e,t,n)},addSheet(e){const t=l._sheets.length;l._currentSheet?.hide();const n=e.name.split(".").slice(0,-1).join(""),r=new a(n,e,t);l._sheets.push(r),l._currentSheet=r},selectSheet(e){const t=l._sheets[e];l._currentSheet!=t&&(l._currentSheet?.hide(),l._currentSheet=t,t.readyToShow()?t.show():t.applySettingsAndShow())},getListOfSheets(){return this._sheets.map(((e,t)=>({name:e.getName(),id:e.getID()})))},getSheetById(e){return this._sheets[e]},getVarsBySheetId:e=>l._sheets[e]?l._sheets[e].getVars():null,getVarBySheetIdAndVarId:(e,t)=>l._sheets[e]?l._sheets[e].getVarById(t):null,getDataBySheetAndVarId:(e,t)=>l._sheets[e]?l._sheets[e].getDataByVarId(t):null,getData(){const e=[];return this._sheets.forEach((t=>e.push(t.getData()))),e},switchUnitedVar(e,t){const n=e.split("_");this.getVarBySheetIdAndVarId(n[1],n[2]).switchUnitedVar(t)}},u=l},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(820),i=n(211);const o={_MODULE_FOLDERS:["paired-sample-test","independent-sample-test","correlation-test"],_modules:[],_timerId:void 0,_hypotheses:[],_globalSettings:{form:document.querySelector("#module-option-form_glob"),name:void 0,FWER:void 0,mainHypId:void 0,power:void 0,hypCounter:0,unhiddenCounter:0,preciseSampleSize:void 0,sampleSize:void 0,update:null,getAlpha(e=!0){return this.unhiddenCounter?e?Math.roundGOST(this.FWER/this.unhiddenCounter):this.FWER/this.unhiddenCounter:"-"},getMainHypName(){const e=o._hypotheses[this.mainHypId];return e&&e.hyp?e.hyp.getName():"-"},createNewHypOption(e,t){const n=document.createElement("option");n.setAttribute("value",e),n.classList.add("main-hypothesis__option_"+e),n.textContent=t,uiControls.mainHypSelect.appendChild(n)},updateHypOption(e,t){const n=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);n&&(n.textContent=t)},deleteHypOption(e){const t=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);t&&uiControls.mainHypSelect.removeChild(t);for(let t=e+1;t<this.hypCounter;t++){const e=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+t);e&&(e.setAttribute("value",t-1),e.classList.replace("main-hypothesis__option_"+t,"main-hypothesis__option_"+(t-1)))}}},async createModuleButtons(){const e=o._modules;for(const t of o._MODULE_FOLDERS){const{default:i}=await n(860)(`./${t}/Module.js`);if(!r.Z.isPrototypeOf(i))throw new Error(`Class ${i.name} doesn't extends ${r.Z.name} class`);e.push(i)}const t=uiControls.moduleListElement;for(let n=0;n<e.length;n++){e[n].setModuleTypeId(n);const r=e[n].getName(),i=e[n].getImage();t.innerHTML+=`\n            <li title="Добавить новую гипотезу" class="modules__item button" data-module-id='${n}'>\n                <div class="modules__item-content">\n                    <div class="modules__icon">\n                        <img src="${i}" alt="${r}">\n                    </div>\n                    <span class="modules__description">${r}</span>\n                </div>\n            </li>`}uiControls.addModuleBtnsListeners(),uiControls.addModuleFormListeners(uiControls.parametersGlobItem,null,!0),o.setSettings("glob",uiControls.parametersGlobItem.querySelector("form"))},getData:()=>"module",getHypElementById(e){if(e||0===e)return o._hypotheses[e].hyp.getElement()},getResultElementById(e){if(e||0===e)return o._hypotheses[e].hyp.getResultElement()},addHypothesis(e,t=null){const n=o._globalSettings,r=new o._modules[e](n.hypCounter,t);o._hypotheses.push({hyp:r,update:null}),t||r.createHTML();const s=r.getElement();return n.createNewHypOption(n.hypCounter,r.getName()),r.setSheetOptions(i.Z.getListOfSheets()),o.refreshVarsOfHyp(n.hypCounter),uiControls.addModuleFormListeners(s,r.addListeners.bind(r,s)),0===n.unhiddenCounter&&(n.mainHypId=n.hypCounter,uiControls.mainHypSelect.lastElementChild.selected=!0),n.hypCounter++,n.unhiddenCounter++,o.setSettings("glob"),n.hypCounter-1},optionListAdd(e,t=!1){for(let n=0;n<o._globalSettings.hypCounter;n++)o._hypotheses[n].hyp.addSheetOptions([e]),t&&o.refreshVarsOfHyp(n)},refreshVarsOfHyp(e,t=null){let n;n=t?[t]:o._hypotheses[e].hyp.getFormSheets(),n.forEach((t=>{const n=Number(new FormData(t).get("sheet-select"));o._hypotheses[e].hyp.displayVarsOfSheet(n,t.dataset.type)}))},updateVarsOfSheet(e,t){o._hypotheses.forEach((n=>{t?n.hyp.clearSelectedVars():n.hyp.updateSelectedVarsVisual(e);n.hyp.getFormSheets().forEach((t=>{const r=Number(new FormData(t).get("sheet-select"));r===e&&n.hyp.displayVarsOfSheet(r,t.dataset.type)}))})),this.setSettings("glob")},setSettings(e){uiControls.resultsLoadingShow(),"glob"===e?o._globalSettings.update=!0:o._hypotheses[e].update=!0,o._timerId&&clearTimeout(o._timerId),o._timerId=setTimeout((function(){o.applySettings(),uiControls.resultsLoadingHide(),o._timerId=0}),1e3)},applySettings(){const e=o._hypotheses,t=o._globalSettings;let n=!1,r=e[t.mainHypId];t.update?(o.setGlobalSettings(),t.unhiddenCounter?o.setMainSettings():t.sampleSize="-",r=e[t.mainHypId],t.update=!1,n=!0):r?.update&&(o.setMainSettings(),n=!0),n&&(o.updateResultsGlob(),r?.hyp.updateResultsHtml(!0));const i=t.getAlpha(!1);for(let s=0;s<o._globalSettings.hypCounter;s++){const{hyp:o,update:a,hidden:l}=e[s];!n&&!a||o===r.hyp||l||(o.setSettings(),o.setStatPower(i,t.sampleSize),e[s].update=!1,o.updateResultsHtml(!1))}},setGlobalSettings(){const e=o._globalSettings,t=new FormData(e.form);e.name=t.get("name"),e.FWER=Number(t.get("FWER")),(e.FWER<=0||e.FWER>=100)&&uiControls.showError(uiControls.FWERInput,"Значение FWER должно быть больше, чем 0% и меньше, чем 100%"),e.mainHypId=Number(t.get("mainHypothesis")),e.power=Number(t.get("power")),(e.power<=0||e.power>=100)&&uiControls.showError(uiControls.powerInput,"Значение мощности должно быть больше, чем 0% и меньше, чем 100%")},setMainSettings(){const e=o._globalSettings,t=o._hypotheses[e.mainHypId];t.hyp.setSettings();const n=t.hyp.getN(e.getAlpha(!1),e.power);e.preciseSampleSize=n,e.sampleSize=Math.ceil(n),t.update=!1},updateResultsGlob(){const e=o._globalSettings;uiControls.resName.textContent=e.name,uiControls.resFwer.textContent=Number.resultForm(e.FWER),uiControls.resNumber.textContent=e.unhiddenCounter,uiControls.resImportance.textContent=e.getAlpha(),uiControls.resMainHyp.textContent=e.getMainHypName(),uiControls.resPower.textContent=Number.resultForm(e.power),uiControls.resSampleSizePrecise.textContent=Number.resultForm(e.preciseSampleSize),uiControls.resSampleSize.textContent=Number.resultForm(e.sampleSize,!0)},hideUnhideHyp(e){const t=o._hypotheses,n=t[e],r=o._globalSettings,i=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);n.hidden?function(){i.disabled=!1,0===r.unhiddenCounter&&(r.mainHypId=e,i.selected=!0);r.unhiddenCounter++,n.hidden=!1,n.hyp.changeVisibilityResultsHtml(!1)}():function(){i.disabled=!0,r.unhiddenCounter--,n.hidden=!0,e===r.mainHypId&&(i.selected=!1,0===r.unhiddenCounter?(r.mainHypId=null,uiControls.mainHypSelectNullOption.selected=!0):(r.mainHypId=t.findIndex((e=>!e.hidden)),uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+r.mainHypId).selected=!0));n.hyp.changeVisibilityResultsHtml(!0)}(),o.setSettings("glob")},nameChange(e,t){const n=o._hypotheses[e];n&&(n.hyp.setName(t),o._globalSettings.updateHypOption(e,t))},duplicateHyp(e){const t=o._hypotheses[e];t&&o.addHypothesis(t.hyp.constructor.getModuleTypeId(),t.hyp)},deleteHyp(e){const t=o._hypotheses[e];if(!t)return;const n=o._globalSettings,r=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+e);o._globalSettings.deleteHypOption(e),n.hypCounter--,t.hidden||n.unhiddenCounter--,t.hyp.deleteSelf(),o._hypotheses[e]=null;for(let t=e;t<n.hypCounter;t++)o._hypotheses[t]=o._hypotheses[t+1],o._hypotheses[t].hyp.setId(t);o._hypotheses=o._hypotheses.slice(0,-1),r.selected=!1,0===n.unhiddenCounter?(n.mainHypId=null,uiControls.mainHypSelectNullOption.selected=!0):(n.mainHypId=o._hypotheses.findIndex((e=>!e.hidden)),uiControls.mainHypSelect.querySelector(".main-hypothesis__option_"+n.mainHypId).selected=!0),o.setSettings("glob")},exportResults(){const e=function(e){return`\n            <html>\n              <head>\n                <style>\n                    body,\n                    h1,\n                    h2,\n                    h3,\n                    h4,\n                    p,\n                    ul[class],\n                    ol[class],\n                    li,\n                    figure,\n                    figcaption,\n                    fieldset,\n                    blockquote,\n                    dl,\n                    dd {\n                        margin: 0;\n                    }\n                    body {\n                        font-family: "Open Sans", sans-serif;\n                        color: #000000;\n                        font-weight: 400;\n                        font-size: 14px;\n                        line-height: 19px;\n                        min-height: 100vh;\n                        scroll-behavior: smooth;\n                        text-rendering: optimizeSpeed;\n                    }\n\n                    p, th , td {\n                        color: #000000;\n                        font-weight: 400;\n                        font-size: 14px;\n                        line-height: 19px;\n                    }\n                    \n                    h1 {\n                        font-weight: 700;\n                        font-size: 24px;\n                        line-height: 33px;\n                    }\n                    \n                    h2 {\n                        font-weight: 700;\n                        font-size: 20px;\n                        line-height: 27px;\n                    }\n                    \n                    b {\n                        font-weight: 600;\n                        font-size: 14px;\n                        line-height: 19px;\n                    }\n                    \n                    small {\n                        font-weight: 400;\n                        font-size: 12px;\n                        line-height: 16px;\n                    }\n\n                    .results__container {\n                        overflow: auto;\n                        height: 100%;\n                        padding: 10px 24px 24px 24px;\n                        max-width: 100%;\n\n                        font-weight: 400;\n                        font-size: 14px;\n                    }\n\n                    .results__container::after {\n                        display: block;\n                        content: '';\n                        width: 0px;\n                        height: 50%;\n                    }\n\n                    .results__header {\n                        overflow-wrap: break-word;\n                        max-width: 100%;\n                    }\n\n                    .results__block {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 24px;\n                        min-width: 1000px;\n                        max-width: 1000px;\n                        margin-bottom: 56px;\n\n                    }\n                \n                    .results__block-inner {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 8px;\n                        max-width: 1000px;\n                    }\n                \n                    .results__table {\n                        border-bottom: 2px solid #000000;\n                        border-collapse: collapse;\n                        width: max-content;\n                        max-width: 100%;\n                    }\n\n                    .results__table th {\n                        white-space: nowrap;\n                        border-top: 1px solid #000000;\n                        border-bottom: 1px solid #000000;\n                    }\n            \n                    .results__table th,\n                    .results__table td {\n                        padding: 0 16px 0 16px;\n                        text-align: center;\n                    }\n            \n                    .results__table td {\n                        white-space: normal;\n                        word-wrap: break-word;\n                        width: max-content;\n                        max-width: 200px;\n                    }\n            \n                    .results__table caption {\n                        caption-side: bottom;\n                        text-align: left;\n                    }\n                </style>\n              </head>\n              <body>\n                ${e.outerHTML}\n              </body>\n            </html>\n          `}(uiControls.resultsContainer),t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t),r=document.createElement("a");r.download=`${o._globalSettings.name}.html`,r.href=n,r.click(),URL.revokeObjectURL(n)}},s=o},820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{static comElements={parametersContainer:document.querySelector(".parameters__container"),resultsContainer:document.querySelector(".results__container")};constructor(){if(r===new.target)throw new Error("Can't create an instance of an abstract class")}static setModuleTypeId(e){throw new Error("This method must be implemented")}static getModuleTypeId(){throw new Error("This method must be implemented")}static getName(){throw new Error("This method must be implemented")}static getImage(){throw new Error("This method must be implemented")}deleteSelf(){throw new Error("This method must be implemented")}getAllData(){throw new Error("This method must be implemented")}setName(e){throw new Error("This method must be implemented")}setId(e){throw new Error("This method must be implemented")}getName(){throw new Error("This method must be implemented")}getElement(){throw new Error("This method must be implemented")}getResultElement(){throw new Error("This method must be implemented")}getFormSheets(){throw new Error("This method must be implemented")}getSheetSelects(){throw new Error("This method must be implemented")}setSheetOptions(e){throw new Error("This method must be implemented")}addSheetOptions(e){throw new Error("This method must be implemented")}addListeners(e){throw new Error("This method must be implemented")}displayVarsOfSheet(e,t){throw new Error("This method must be implemented")}updateSelectedVarsVisual(e){throw new Error("This method must be implemented")}clearSelectedVars(){throw new Error("This method must be implemented")}createHTML(){throw new Error("This method must be implemented")}setSettings(){throw new Error("This method must be implemented")}getN(e,t){throw new Error("This method must be implemented")}setStatPower(e,t){throw new Error("This method must be implemented")}updateResultsHtml(e){throw new Error("This method must be implemented")}changeVisibilityResultsHtml(e){throw new Error("This method must be implemented")}}},860:(e,t,n)=>{var r={"./correlation-test/Module.js":[693,233],"./independent-sample-test/Module.js":[510,476],"./paired-sample-test/Module.js":[969,330]};function i(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(r),i.id=860,e.exports=i},830:()=>{Object.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},RegExp.specialSymbols=["[","]","\\","^","$",".","|","?","*","+","(",")"],window.timeout=function(e){return new Promise((t=>setTimeout(t,e)))},Math.norminv=function(e){const t=-.00778489400243029,n=-.322396458041136,r=-2.40075827716184,i=-2.54973253934373,o=4.37466414146497,s=2.93816398269878,a=.00778469570904146,l=.32246712907004,u=2.445134137143,d=3.75440866190742,c=.02425;let h,p,m;if(!((e/=100)<0||e>1))return e<c?(h=Math.sqrt(-2*Math.log(e)),m=(((((t*h+n)*h+r)*h+i)*h+o)*h+s)/((((a*h+l)*h+u)*h+d)*h+1)):e<=.97575?(h=e-.5,p=h*h,m=(((((-39.6968302866538*p+220.946098424521)*p-275.928510446969)*p+138.357751867269)*p-30.6647980661472)*p+2.50662827745924)*h/(((((-54.4760987982241*p+161.585836858041)*p-155.698979859887)*p+66.8013118877197)*p-13.2806815528857)*p+1)):(h=Math.sqrt(-2*Math.log(1-e)),m=-(((((t*h+n)*h+r)*h+i)*h+o)*h+s)/((((a*h+l)*h+u)*h+d)*h+1)),m},Math.normdist=function(e){let t=1;return e<0&&(t=-1),.5*(1+t*function(e){e=Math.abs(e);const t=1/(1+.3275911*e);return 1-((((1.061405429*t-1.453152027)*t+1.421413741)*t-.284496736)*t+.254829592)*t*Math.exp(-1*e*e)}(Math.abs(e)/Math.sqrt(2)))*100},Math.mean=function(e){return e.reduce(((e,t)=>e+t))/e.length},Math.stddev={},Math.stddev.s=function(e){const t=e.length,n=e.reduce(((e,t)=>e+t))/t;return Math.sqrt(e.map((e=>(e-n)**2)).reduce(((e,t)=>e+t))/(t-1))},Math.var={},Math.var.s=function(e){const t=e.length,n=e.reduce(((e,t)=>e+t))/t;return e.map((e=>(e-n)**2)).reduce(((e,t)=>e+t))/(t-1)},Math.fisher=function(e){return.5*Math.log((1+e)/(1-e))},Number.resultForm=function(e,t){return"number"==typeof e?t?e:Math.roundGOST(e,2):"-"},String.resultForm=function(e){return null!=e?e:"-"},Math.roundGOST=function(e){let t,n=Math.abs(e);return n>=10?(t=e,"5"===String(n).split(".")[1]?.charAt(1)&&(t+=.01*Math.sign(e)),t.toFixed(1)):n>=1?(t=e,"5"===String(n).charAt(4)&&(t+=.001*Math.sign(e)),t.toPrecision(3)):.995===n?Math.round(e).toFixed(2):(t=e.toPrecision(2),1==t?"1.00":-1==t?"-1.00":t)},Math.rank={},Math.rank.avg=function(e,t){const n={};for(let r of e)n[r]?n[r].count++:n[r]={rank:t(r),avg:0,count:1,val:r};const r=Object.values(n).sort(((e,t)=>e.rank-t.rank));r.get=function(e){return this.find((t=>t.val===e)).avg};let i=0,o=0;for(;i<r.length;)r[i].avg=(2*o+r[i].count+1)/2,o+=r[i].count,i++;return r},Math.getZAlpha=function(e,t){return"both"===e?Math.norminv(t/2):Math.norminv(t)},Math.getZ=function(e,t){return e+Math.norminv(100-t)},Array.prototype.has=function(e){return void 0!==this.find((t=>t===e))},Array.prototype.customSort=function(e){return this.sort(e?function(e,t){return e-t}:void 0)},Math.getU=function(e,t,n){let r=0;if(n){const i=[...e,...t],o=Math.rank.avg(i,n),s=e.length,a=t.length;let l=0;e.forEach((e=>l+=o.get(e))),r=s*a+s*(s+1)/2-l}else e.forEach((e=>{t.forEach((t=>{e-t<0&&r++}))}));return r}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+"."+r.h()+".js",r.miniCssF=e=>{},r.h=()=>"2e819e5c6b512181779b",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},r.l=(t,n,i,o)=>{if(e[t])e[t].push(n);else{var s,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t){s=d;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=t),e[t]=[n];var c=(n,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),n)return n(r)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),a&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=o);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[s,a,l]=n,u=0;if(s.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)l(r)}for(t&&t(n);u<s.length;u++)o=s[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i={};(()=>{"use strict";r.d(i,{U:()=>n});r(830);var e=r(211),t=r(988);function n(){try{const n={dataControlsData:e.Z.getData(),moduleIntegratorData:t.Z.getData()},r=JSON.stringify(n),i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i),s=document.createElement("a");s.download="Hey.json",s.href=o,s.click(),URL.revokeObjectURL(o)}catch(e){uiControls.showError(uiControls.burgerMenu,"Ошибка при сохранении"),console.error(e)}}window.uiControls={body:void 0,pageBody:void 0,moduleListElement:void 0,modulesItems:[],burgerMenu:void 0,burgerMenuInput:void 0,burgerUpLine:void 0,burgerDownLine:void 0,fadeScreen:void 0,sidebar:void 0,menuBtns:[],csvUploadBtn:void 0,exportBtn:void 0,saveProject:void 0,settingsForm:void 0,settingsSkipInput:void 0,settingsEncodingInput:void 0,settingsColDelimiterInput:void 0,settingsDecimalDelimiterInput:void 0,dataContainer:void 0,dataTable:void 0,dataFooter:void 0,footerList:void 0,dataFooterElements:{old:[],new:[]},calculationWindow:void 0,parameters:void 0,parametersContainer:void 0,parametersGlobItem:void 0,FWERInput:void 0,powerInput:void 0,mainHypSelect:void 0,mainHypSelectNullOption:void 0,resizeBarsEl:[],results:void 0,resultsContainer:void 0,resultsLoader:void 0,resBlock:void 0,resFwer:void 0,resNumber:void 0,resImportance:void 0,resMainHyp:void 0,resPower:void 0,resSampleSizePrecise:void 0,resSampleSize:void 0,modalVarType:void 0,varIcons:{old:[],new:[]},varTypesBtns:[],varTypesForm:void 0,rangTable:void 0,binSettings:void 0,binTables:void 0,varTypesLevelControls:{up:void 0,down:void 0},uniteCheckbox:void 0,varTypesSwitchBtn:void 0,modalVarTypeBtns:void 0,curIcon:void 0,modalSettings:void 0,dataSettingsBtns:{old:[],new:[]},modalSettingsBtns:void 0,errorElement:void 0,initConstuiControls(){uiControls.initConstElements(),uiControls.initConstListeners()},initConstElements(){uiControls.body=document.getElementsByTagName("body")[0],uiControls.pageBody=document.querySelector(".page-body"),uiControls.moduleListElement=document.querySelector(".modules__list"),uiControls.dataContainer=document.querySelector(".data__container"),uiControls.dataFooter=uiControls.dataContainer.querySelector(".data__footer"),uiControls.footerList=uiControls.dataContainer.querySelector(".footer__list"),uiControls.burgerMenu=document.querySelector(".burger-menu"),uiControls.burgerMenuInput=uiControls.burgerMenu.querySelector("#burger-menu__input"),uiControls.burgerUpLine=uiControls.burgerMenu.querySelector(".burger-menu__line-up"),uiControls.burgerDownLine=uiControls.burgerMenu.querySelector(".burger-menu__line-down"),uiControls.sidebar=document.querySelector(".sidebar"),uiControls.fadeScreen=document.querySelector(".fade"),uiControls.menuBtns=[...document.querySelectorAll(".sidebar__item")],uiControls.csvUploadBtn=document.getElementById("csvUpload"),uiControls.exportBtn=document.getElementById("export-results"),uiControls.saveProject=document.getElementById("save-project"),uiControls.settingsForm=document.getElementById("settings-form"),uiControls.settingsSkipInput=uiControls.settingsForm.querySelector("#skip-options"),uiControls.settingsEncodingInput=uiControls.settingsForm.querySelector("#encoding-options"),uiControls.settingsColDelimiterInput=uiControls.settingsForm.querySelector("#col-delimiter-options"),uiControls.settingsDecimalDelimiterInput=uiControls.settingsForm.querySelector("#decimal-delimiter-options"),uiControls.calculationWindow=document.querySelector(".calculation-window"),uiControls.resizeBarsEl=[...uiControls.calculationWindow.querySelectorAll(".resize-bar")],uiControls.results=uiControls.calculationWindow.querySelector(".results"),uiControls.resultsLoader=uiControls.results.querySelector(".loader"),uiControls.resultsContainer=uiControls.results.querySelector(".results__container"),uiControls.resBlock=uiControls.resultsContainer.querySelector("#global-results"),uiControls.resName=uiControls.resBlock.querySelector("#results-name"),uiControls.resFwer=uiControls.resBlock.querySelector("#results-FWER"),uiControls.resNumber=uiControls.resBlock.querySelector("#results-number"),uiControls.resImportance=uiControls.resBlock.querySelector("#results-importance"),uiControls.resMainHyp=uiControls.resBlock.querySelector("#results-main-hyp"),uiControls.resPower=uiControls.resBlock.querySelector("#results-power"),uiControls.resSampleSize=uiControls.resBlock.querySelector("#results-sample-size"),uiControls.resSampleSizePrecise=uiControls.resBlock.querySelector("#results-sample-size-precise"),uiControls.parameters=uiControls.calculationWindow.querySelector(".parameters"),uiControls.parametersContainer=uiControls.parameters.querySelector(".parameters__container"),uiControls.parametersGlobItem=uiControls.parameters.querySelector("#parameters__item_glob"),uiControls.FWERInput=uiControls.parametersGlobItem.querySelector("#FWER-input"),uiControls.powerInput=uiControls.parametersGlobItem.querySelector("#power-input"),uiControls.mainHypSelect=uiControls.parametersContainer.querySelector("#main-hypothesis"),uiControls.mainHypSelectNullOption=uiControls.mainHypSelect.querySelector(".main-hypothesis__option_null"),uiControls.modalVarType=document.querySelector(".modal-var-types"),uiControls.varTypesForm=uiControls.modalVarType.querySelector("#var-type-form"),uiControls.rangTable=uiControls.modalVarType.querySelector(".modal-var-types__rang-table-body"),uiControls.binSettings=uiControls.modalVarType.querySelector(".modal-var-types__binary-settings"),uiControls.binTables=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__binary-table-body")],uiControls.varTypesLevelControls.up=uiControls.modalVarType.querySelector(".switch-button_up"),uiControls.varTypesLevelControls.down=uiControls.modalVarType.querySelector(".switch-button_down"),uiControls.uniteCheckbox=uiControls.modalVarType.querySelector("#unite-checkbox"),uiControls.modalVarTypeBtns=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__btn")],uiControls.varTypesSwitchBtn=uiControls.binSettings.querySelector(".switch-button"),uiControls.modalSettings=document.querySelector(".modal-settings"),uiControls.modalSettingsBtns=[...uiControls.modalSettings.querySelectorAll(".modal-settings__btn")],uiControls.errorElement=document.querySelector("#error-show")},initConstListeners(){uiControls.addBurgerListener(),uiControls.addResizeBarsListeners(),uiControls.addWindowResizeListeners(),uiControls.addModalSettingsListener(),uiControls.addModalVarChooseListener(),uiControls.addSaveProjectListener(),uiControls.addCsvUploadListeners(),uiControls.addExportBtnListeners()},initNewSheetControls(){uiControls.initNewSheetElements(),uiControls.initNewSheetListeners()},initNewSheetElements(){uiControls.dataFooterElements.new=[...uiControls.dataFooter.querySelectorAll(".footer__item_new")],uiControls.varIcons.new=[...uiControls.dataContainer.querySelectorAll(".data__var-icon_new")],uiControls.dataSettingsBtns.new=[...uiControls.dataContainer.querySelectorAll(".dataSettingsBtn_new")]},initNewSheetListeners(){uiControls.addVarIconsListeners(),uiControls.addDataSettingsListener(),uiControls.addFooterItemListeners()},addBurgerListener(){uiControls.burgerMenu.addEventListener("click",uiControls.toggleMenu),uiControls.fadeScreen.addEventListener("click",uiControls.toggleMenu)},addCsvUploadListeners(){uiControls.csvUploadBtn.addEventListener("click",(function(){this.value=null})),uiControls.csvUploadBtn.addEventListener("change",(t=>{e.Z.readSingleFile(t),uiControls.toggleMenu()}))},addSaveProjectListener(){uiControls.saveProject.addEventListener("click",(()=>{n(),uiControls.toggleMenu()}))},addExportBtnListeners(){uiControls.exportBtn.addEventListener("click",(()=>{t.Z.exportResults(),uiControls.toggleMenu()}))},addResizeBarsListeners(){function e(e){e.preventDefault(),uiControls.footerSetMaxWidth(),window.addEventListener("mousemove",r),window.addEventListener("mouseup",(function e(){uiControls.resizeBarCheckBounds(),uiControls.footerChange(),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e)}));const t=e.clientX,n=uiControls.calculationWindow.offsetWidth;function r(e){e.preventDefault(),uiControls.calculationWindow.style.width=n-(e.clientX-t)+"px"}}uiControls.resizeBarsEl.forEach((t=>{t.addEventListener("mousedown",e)}))},addWindowResizeListeners(){window.addEventListener("DOMContentLoaded",uiControls.footerChange),window.addEventListener("resize",uiControls.footerChange),window.addEventListener("resize",uiControls.resizeBarCheckBounds)},addFooterItemListeners(){uiControls.dataFooterElements.new.forEach((t=>{t.addEventListener("click",(()=>e.Z.selectSheet(t.id))),t.classList.remove("footer__item_new"),uiControls.dataFooterElements.old.push(t)})),uiControls.dataFooterElements.new=[]},addVarIconsListeners(){uiControls.varIcons.new.forEach((t=>{t.addEventListener("click",(t=>{const n=e.Z.createVarSettings.bind(null,t.currentTarget.getAttribute("id"));uiControls.openModal(t,uiControls.modalVarType,n)})),t.classList.remove("data__var-icon_new")})),uiControls.varIcons.new=[]},addDataSettingsListener(){uiControls.dataSettingsBtns.new.forEach((e=>{e.addEventListener("click",(e=>{uiControls.openModal(e,uiControls.modalSettings)})),e.classList.remove("dataSettingsBtn_new"),uiControls.dataSettingsBtns.old.push(e)})),uiControls.dataSettingsBtns.new=[]},addModalSettingsListener(){uiControls.modalSettings.addEventListener("click",(e=>{e.stopPropagation()})),uiControls.settingsForm.addEventListener("submit",(t=>{e.Z.submitSettings(t,new FormData(uiControls.settingsForm))})),uiControls.modalSettingsBtns.forEach((e=>{e.addEventListener("click",(()=>uiControls.modalSettings.style.display="none"))})),uiControls.modalSettings.querySelector(".modal-window__header").addEventListener("mousedown",(e=>{uiControls.dragMouseDown(e,uiControls.modalSettings)}))},addModalVarChooseListener(){uiControls.modalVarType.addEventListener("click",(e=>{e.stopPropagation()}));const t=[...uiControls.modalVarType.querySelectorAll(".modal-var-types__item-input")],n=uiControls.modalVarType.querySelector(".modal-var-types__rang"),r=uiControls.modalVarType.querySelector(".modal-var-types__rang-settings"),i=uiControls.modalVarType.querySelector(".modal-var-types__binary"),o=uiControls.modalVarType.querySelector(".modal-var-types__binary-settings");function s(e){const t=uiControls.rangTable,n=t.querySelector('input[type="radio"]:checked').parentElement;if(!n)return;let r;e&&n.nextElementSibling?(r=n.nextElementSibling,t.removeChild(n),t.insertBefore(n,r.nextElementSibling)):!e&&n.previousElementSibling&&(r=n.previousElementSibling,t.removeChild(n),t.insertBefore(n,r))}t.forEach((e=>e.addEventListener("click",(()=>{e.isSameNode(i)?o.style.display="block":o.style.display="none",e.isSameNode(n)?r.style.display="block":r.style.display="none"})))),uiControls.varTypesLevelControls.up.addEventListener("click",(()=>{s(!1)})),uiControls.varTypesLevelControls.down.addEventListener("click",(()=>{s(!0)})),uiControls.varTypesSwitchBtn.addEventListener("click",(function(){const e=uiControls.binSettings.querySelector('input[type="radio"]:checked').parentElement,t=e.parentElement;t.removeChild(e);const n=t=>{t.insertBefore(e,t.querySelector(".var-table__anchor_"+e.dataset.anchor))};t.isSameNode(uiControls.binTables[0])?(n(uiControls.binTables[1]),uiControls.varTypesSwitchBtn.classList.replace("switch-button_right","switch-button_left")):(n(uiControls.binTables[0]),uiControls.varTypesSwitchBtn.classList.replace("switch-button_left","switch-button_right"))})),uiControls.uniteCheckbox.addEventListener("change",(function(t){e.Z.switchUnitedVar(t.target.dataset.id,t.target.checked)})),uiControls.varTypesForm.addEventListener("submit",(t=>{t.preventDefault();const n=[...uiControls.rangTable.querySelectorAll(".var-table__item")].map((e=>Number(e.dataset.order))),r={group0:[...uiControls.binTables[0].querySelectorAll(".var-table__item")].map((e=>e.dataset.anchor)),group1:[...uiControls.binTables[1].querySelectorAll(".var-table__item")].map((e=>e.dataset.anchor))};e.Z.setVarSettings(new FormData(uiControls.varTypesForm),n,r)})),uiControls.modalVarTypeBtns.forEach((e=>{e.addEventListener("click",(()=>uiControls.modalVarType.style.display="none"))})),uiControls.modalVarType.querySelector(".modal-window__header").addEventListener("mousedown",(e=>{uiControls.dragMouseDown(e,uiControls.modalVarType)}))},addModuleBtnsListeners(){const e=[...document.querySelectorAll(".modules__item")];uiControls.modulesItems=e,e.forEach((e=>{const n=e.dataset.moduleId;e.addEventListener("click",(()=>{const e=t.Z.addHypothesis(n),r=t.Z.getHypElementById(e),i=t.Z.getResultElementById(e);uiControls.scrollCenter(uiControls.parametersContainer,r),uiControls.scrollCenter(uiControls.resultsContainer,i)}))}))},scrollCenter(e,t){let n=t.offsetTop-uiControls.pageBody.getBoundingClientRect().height/2+t.getBoundingClientRect().height/2;e.scrollTo({behavior:"smooth",top:n,left:0})},addModuleFormListeners(e,n,r){const i=e.querySelector(".module-option-form"),o=[...e.querySelectorAll(".form-change-trigger")],s=e.querySelector(".collapsible__input"),a=e.querySelector(".collapsible__symbol"),l=e.querySelector(".collapsible__content");if(s.addEventListener("click",(()=>{a.classList.toggle("collapsible__symbol_checked"),l.classList.toggle("collapsible__content_checked")})),r)return void o.forEach((e=>e.addEventListener("change",(()=>{t.Z.setSettings("glob",i,i.querySelector(".target-table-data"))}))));o.forEach((n=>n.addEventListener("change",(()=>{t.Z.setSettings(T(e),i,i.querySelector(".target-table-data"))}))));[...e.querySelectorAll(".sheet-form")].forEach((n=>{n.addEventListener("change",(()=>{t.Z.refreshVarsOfHyp(T(e),n)}))}));const u=e.querySelector(".manual-input-on"),d=e.querySelector(".data-input-two"),c=e.querySelector(".data-input-group"),h=e.querySelector(".two-column-var"),p=e.querySelector(".grouping-var"),m=e.querySelector(".option-block__test-type"),g=[...e.querySelectorAll(".option-block__manual-input")];if(u?.addEventListener("click",(()=>{const t=m.querySelector("input:checked").value;e.querySelector(`.option-block__${t}`).classList.remove("option-block_hidden"),h?.classList.add("option-block_hidden"),p?.classList.add("option-block_hidden")})),d?.addEventListener("click",(()=>{f(),p?.classList.add("option-block_hidden"),h.classList.remove("option-block_hidden")})),c?.addEventListener("click",(()=>{f(),h?.classList.add("option-block_hidden"),p.classList.remove("option-block_hidden")})),m){[...m.querySelectorAll("input")].forEach((t=>{t.addEventListener("click",(()=>{if(u.checked){f();e.querySelector(`.option-block__${t.value}`).classList.remove("option-block_hidden")}}))}))}function f(){g?.forEach((e=>{e.classList.add("option-block_hidden")}))}n&&n();const y=e.querySelector(".parameters__hide-button"),_=y.querySelector("input"),C=e.querySelector(".parameters__content"),b=e.querySelector(".parameters__title-container");_.addEventListener("click",(()=>{C.classList.toggle("parameters__content_hidden"),b.classList.toggle("parameters__title-container_hidden"),y.classList.toggle("parameters__hide-button_hidden"),t.Z.hideUnhideHyp(T(e))}));const v=e.querySelector(".parameters__edit-button"),S=e.querySelector(".parameters__title"),w=e.querySelector(".parameters__title-input");w.value=S.textContent;const E=function(){L()},k=function(e){"Enter"===e.key&&L()};function L(){""!==w.value.trim()?(w.removeEventListener("focusout",E),w.removeEventListener("keypress",k),S.style.display="inline",w.style.display="none",t.Z.nameChange(T(e),w.value)):uiControls.showError(w,"Заполните это поле")}v.addEventListener("click",(()=>{S.style.display="none",w.style.display="block",w.focus(),w.addEventListener("focusout",E),w.addEventListener("keypress",k)}));e.querySelector(".parameters__duplicate-button").addEventListener("click",(()=>{t.Z.duplicateHyp(T(e))}));function T(e){return Number(e.querySelector(".module-option-form").dataset.id)}e.querySelector(".parameters__delete-button").addEventListener("click",(()=>{t.Z.deleteHyp(T(e))}))},resizeBarCheckBounds(){const e=uiControls.calculationWindow.offsetWidth,t=uiControls.resizeBarsEl[0].offsetWidth,n=t+uiControls.results.offsetWidth,r=t+uiControls.parameters.offsetWidth,i=uiControls.body.clientWidth;n>=i?uiControls.calculationWindow.style.width=r+i+"px":e<t&&(uiControls.calculationWindow.style.width=t+"px")},toggleMenu(){uiControls.burgerMenuInput.checked?(uiControls.sidebar.classList.remove("sidebar_checked"),uiControls.burgerUpLine.classList.remove("burger-menu__line-up_checked"),uiControls.burgerDownLine.classList.remove("burger-menu__line-down_checked"),uiControls.fadeScreen.style["z-index"]="-1",uiControls.burgerMenuInput.checked=!1,uiControls.fadeScreen.style.opacity="0"):(uiControls.sidebar.classList.add("sidebar_checked"),uiControls.burgerUpLine.classList.add("burger-menu__line-up_checked"),uiControls.burgerDownLine.classList.add("burger-menu__line-down_checked"),uiControls.fadeScreen.style["z-index"]="1",uiControls.burgerMenuInput.checked=!0,uiControls.fadeScreen.style.opacity="1")},footerChange(){const e=uiControls.dataContainer.querySelector(".data__table_shown"),t=uiControls.dataContainer,n=uiControls.dataFooter;n.style.width=e?t.clientWidth+"px":0},footerSetMaxWidth(){uiControls.dataFooter.style.width="100%"},openModal(e,t,n){const r=e.currentTarget;e.preventDefault(),e.stopPropagation(),t.style.left=r.getBoundingClientRect().right+"px",t.style.top=r.getBoundingClientRect().bottom+"px",n&&n(),t.style.display="block",window.addEventListener("click",(function(){t.style.display="none"}),{once:!0})},dragMouseDown(e,t){let n=0,r=0,i=0,o=0;(e=e||window.event).preventDefault(),i=e.clientX,o=e.clientY,document.onmouseup=function(){document.onmouseup=null,document.onmousemove=null},document.onmousemove=function(e){e=e||window.event,e.preventDefault(),n=i-e.clientX,r=o-e.clientY,i=e.clientX,o=e.clientY,t.style.top=t.offsetTop-r+"px",t.style.left=t.offsetLeft-n+"px"}},resultsLoadingShow(){uiControls.resultsContainer.style.opacity="0.1",uiControls.resultsLoader.style.display="block"},resultsLoadingHide(){uiControls.resultsContainer.style.opacity="1",uiControls.resultsLoader.style.display="none"},showError(e,t){const n=e.getBoundingClientRect(),r=o(n.x+n.width/2,window.innerWidth),i=o(n.y+n.height,window.innerHeight);function o(e,t,n=10){if(e>n){const r=t-n;return e<r?e:r}return n}uiControls.errorElement.style.left=r+"px",uiControls.errorElement.style.top=i+"px",uiControls.errorElement.setCustomValidity(t),uiControls.errorElement.reportValidity()}},uiControls.initConstuiControls(),t.Z.createModuleButtons()})()})();