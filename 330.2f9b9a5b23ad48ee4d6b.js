"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[330],{969:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(892),s=a(693);const i=a.p+"e121201de7736b84a3aa.png";var l=a(820);class r extends l.Z{static#e="Сравнение парных выборок";static#t=i;static comElements={parametersContainer:document.querySelector(".parameters__container"),resultsContainer:document.querySelector(".results__container"),mainHypSelect:document.querySelector("#main-hypothesis")};#a;#n={first:void 0,second:void 0};#s;#i;#l;#r={first:void 0,second:void 0};#o;#d;#c;#m;#p;#h;constructor(e){super(),this.#a=e}static getName(){return this.#e}static getImage(){return this.#t}addListeners(e){const t=e.querySelector(".paired-sample__tables"),a=t.querySelector(".switch-button"),s=t.querySelector(".paired-sample__table-body"),i=t.querySelector(".target-table-data");a.addEventListener("click",(()=>{const e=t.querySelector("input:checked");if(!e)return;const a=e.parentElement,l=a.parentElement;if(l.isSameNode(i))l.removeChild(a),((e,t)=>{const a=t.querySelector(".var-table__anchor_"+e.dataset.varId);a&&t.insertBefore(e,a)})(a,s);else{if(2===i.children.length)return;l.removeChild(a),i.appendChild(a)}n.Z.setSettings(this.#a,this.#d,i)}))}createHTML(){const e="Гипотеза "+(this.#a+1),t=r.comElements.parametersContainer,a=r.comElements.resultsContainer,n=r.comElements.mainHypSelect,s=document.createElement("div"),i=document.createElement("div"),l=document.createElement("option");s.classList.add("parameters__item","collapsible","paired-sample"),i.classList.add("results__block"),l.setAttribute("value",this.#a);const o=`\n        <label class="collapsible__head">\n            <input class="collapsible__input" type="checkbox" checked>\n            <div class="parameters__head">\n                <div class="parameters__title-container">\n                    <div class="collapsible__symbol"></div>\n                    <h2 class="parameters__title">${e}</h2>\n                </div>\n                <div class="parameters__extra-container">\n                    <button title="Изменить название гипотезы"\n                        class="parameters__extra-item parameters__edit-button main-button"></button>\n                    <label title="Убрать гипотезу из вычислений"\n                        class="parameters__extra-item parameters__hide-button main-button">\n                        <input type="checkbox">\n                    </label>\n                    <button title="Дублировать гипотезу"\n                        class="parameters__extra-item parameters__duplicate-button main-button"></button>\n                    <button title="Удалить гипотезу"\n                        class="parameters__extra-item parameters__delete-button main-button"></button>\n                </div>\n            </div>\n        </label>\n        <div class="collapsible__content">\n            <div class="parameters__content">\n            <form id="module-option-form_${this.#a}" class="module-option-form"></form>\n                <div class="option-block">\n                    <p>Метод проверки: Сравнение парных выборок</p>\n                    <div class="option-block__sub">\n                        Тип ввода\n                        <div class="option-block__list">\n                            <label class="radio-line">\n                                <input class="main-radio form-change-trigger" type="radio" name="input-type" value="data" form="module-option-form_${this.#a}"\n                                    checked>\n                                <span>Вычисление по данным</span>\n                            </label>\n                            <label class="radio-line">\n                                <input class="main-radio form-change-trigger" type="radio" name="input-type" value="manual" form="module-option-form_${this.#a}">\n                                <span>Ввести величину эффекта</span>\n                            </label>\n                        </div>\n                    </div>\n                    <div class="option-block__tables paired-sample__tables">\n                        <div class="var-table">\n                            <div class="var-table__header">\n                                <form id="sheet-form-${this.#a}" class="sheet-form">\n                                    <div class="main-select">\n                                       <select class="main-input paired-sample__sheet-select sheet-select" name="sheet-select"></select>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class="var-table__body paired-sample__table-body"></div>\n                        </div>\n                        <div class="paired-sample__switch-container">\n                            <div class="switch-button switch-button_right">\n                                <div class="switch-button__symbol"></div>\n                            </div>\n                        </div>\n                        <div class="var-table">\n                            <div class="var-table__header">Парные переменные</div>\n                            <div class="var-table__body paired-sample__table-body">\n                                <div class="paired-sample__item target-table-data">\n                                    \n                                </div>\n                                <div class="paired-sample__delimiter"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="option-block__two-column">\n                        <div class="option-block">\n                            <div class="option-block__sub">\n                                Тест\n                                <div class="option-block__list">\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="test-type"\n                                            value="student" form="module-option-form_${this.#a}" checked>\n                                        <span>Стьюдента</span>\n                                    </label>\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="test-type"\n                                            value="wilcoxon" form="module-option-form_${this.#a}">\n                                        <span>Уилкоксона</span>\n                                    </label>\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="test-type"\n                                            value="sign" form="module-option-form_${this.#a}">\n                                        <span>Тест знаков</span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="option-block">\n                            <div class="option-block__sub">\n                                Проверка альтернативной гипотезы\n                                <div class="option-block__list">\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="hyp-check"\n                                            value="both" form="module-option-form_${this.#a}" checked>\n                                        <span>Двусторонняя (M1 ≠ M2)</span>\n                                    </label>\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="hyp-check"\n                                            value="right" form="module-option-form_${this.#a}">\n                                        <span>Правосторонняя (M2 &#62; M1)</span>\n                                    </label>\n                                    <label class="radio-line">\n                                        <input class="main-radio form-change-trigger" type="radio" name="hyp-check"\n                                            value="left" form="module-option-form_${this.#a}">\n                                        <span>Левосторонняя (M2 &#60; M1)</span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;return s.innerHTML=o,i.innerHTML='\n        <h2>Гипотеза 1</h2>\n        <div class="results__block-inner">\n            <p>Основная гипотеза</p>\n            <p>Планируемая мощность: 95%</p>\n            <p>Сравнение парных выборок</p>\n            <p>Тест Стьюдента</p>\n            <table class="results__table">\n                <caption><small>Правосторонняя проверка альтернативной гипотезы (M2 > M1)</small>\n                </caption>\n                <thead>\n                    <tr>\n                        <th>\n                            M1\n                        </th>\n                        <th>\n                            M2\n                        </th>\n                        <th>\n                            t\n                        </th>\n                        <th>\n                            df\n                        </th>\n                        <th>\n                            p\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>\n                            Столбец1\n                        </td>\n                        <td>\n                            Столбец2\n                        </td>\n                        <td>\n                            4.232\n                        </td>\n                        <td>\n                            3\n                        </td>\n                        <td>\n                            0.02\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>',l.textContent=e,t.appendChild(s),a.appendChild(i),n.appendChild(l),this.#o=s,this.#d=s.querySelector(".module-option-form"),this.#c=s.querySelector(".sheet-form"),this.#m=s.querySelector(".sheet-select"),this.#p=s.querySelector(".target-table-data"),this.#h=this.#o.querySelector(".target-table-data"),{newHyp:s,newRes:i}}displayVarsOfSheet(e){const t=s.Z.getVarsBySheetId(e);if(!t)return;const a=this.#o.querySelector(".paired-sample__table-body"),n=this.#p,i=[];i.push(n.firstElementChild?.dataset.varId),i.push(n.lastElementChild?.dataset.varId);let l="";t.forEach((e=>{const t=e.getID();let a=`\n            <label class="var-table__item" data-var-id=${t}>\n                <input type="radio" name="data_value">\n                <img src=${e.getImg()} alt="${e.getTypeName()}" class="var-table__img">\n                <span>${e.getName()}</span>\n            </label>`;i.includes(t)||(l+=a),l+=`<div class='var-table__anchor var-table__anchor_${t}'></div>`})),a.innerHTML=l}updateSelectedVarsVisual(e){[...this.#h.querySelectorAll("label")].forEach((t=>{const a=t.dataset.varId.split("_");if(a[1]==e){const e=s.Z.getVarBySheetIdAndVarId(a[1],a[2]),n=t.querySelector("img");t.querySelector("span").innerHTML=e.getName(),n.setAttribute("src",e.getImg()),n.setAttribute("alt",e.getTypeName())}}))}clearSelectedVars(){this.#h.innerHTML=""}getFormMain(){return this.#d}getFormSheet(){return this.#c}getSheetSelect(){return this.#m}setSettings(e){const t=new FormData(this.#d),a=this.#p;this.#i=t.get("test-type"),this.#l=t.get("hyp-check"),e&&(this.#s=e);const n=[];this.#n.first=null,this.#n.second=null;const i=[];if(this.#r.first=null,this.#r.second=null,a){const e=[...a?.children];2==e.length&&(e.forEach((e=>{const t=e.dataset.varId.split("_");n.push(s.Z.getDataBySheetAndVarId(t[1],t[2]).slice(1)),i.push(s.Z.getVarBySheetIdAndVarId(t[1],t[2]))})),this.#n.first=n[0],this.#n.second=n[1],this.#r.first=i[0],this.#r.second=i[1],console.log(this.#n),console.log(this.#r))}}getN(e){if(this.#n.first&&this.#n.second)return"student"===this.#i?this.#u(e):void 0}#u(e){const t="both"===this.#l?Math.norminv(e/2):Math.norminv(e),a=t+Math.norminv(100-this.#s),n=this.#n.first.map(((e,t)=>e-this.#n.second[t])),s=Math.mean(n),i=(a*Math.stddiv.s(n)/s)**2+t**2/2;return console.log("N ",i),i}setStatPower(e){}}}}]);